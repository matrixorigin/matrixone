# MatrixOne Configuration Override
# Copy this file to config.env and uncomment lines to override defaults
#
# Configuration Priority:
#   1. Service-specific (e.g., CN1_MEMORY_CACHE) - highest priority
#   2. Common configuration (e.g., MEMORY_CACHE) - applies to all services
#   3. Default values - fallback if not specified
#
# Service Prefixes:
#   CN1_    - CN1 (Compute Node 1) only
#   CN2_    - CN2 (Compute Node 2) only
#   PROXY_  - Proxy service only
#   LOG_    - Log service only
#   TN_     - Transaction Node only
#   (no prefix) - Common configuration for all services

# Common Configuration (applies to all services)
# ==========================================

# Log Level: debug, info, warn, error, fatal
# LOG_LEVEL=info

# Log Format: console, json
# LOG_FORMAT=console

# Log Max Size (MB)
# LOG_MAX_SIZE=512

# Memory Cache Size
# MEMORY_CACHE=512MB

# Disk Cache Size
# DISK_CACHE=8GB

# FileService Cache Directory
# CACHE_DIR=mo-data/file-service-cache

# Memory Allocation Check Fraction
# Controls the frequency of memory deallocation checks (double free, missing free)
# Default: 1000 (checks 1 in 1000 deallocations on average)
# Lower values = more frequent checks (better error detection, higher overhead)
# Higher values = less frequent checks (better performance, may miss errors)
# Set to 0 to disable checks (maximum performance, no error detection)
# CHECK_FRACTION=1000

# Observability
# DISABLE_TRACE=true
# DISABLE_METRIC=true

# Service-Specific Configuration
# ==========================================

# CN1 (Compute Node 1) - Example: Increase memory cache for CN1 only
# CN1_MEMORY_CACHE=2GB
# CN1_DISK_CACHE=20GB
# CN1_LOG_LEVEL=debug
# CN1_LOG_FORMAT=json

# CN2 (Compute Node 2) - Example: Different cache for CN2
# CN2_MEMORY_CACHE=1GB
# CN2_LOG_LEVEL=info

# Proxy - Example: Enable debug logging for proxy only
# PROXY_LOG_LEVEL=debug
# PROXY_LOG_FORMAT=json

# Log Service - Example: Verbose logging for log service
# LOG_LOG_LEVEL=debug
# LOG_LOG_FORMAT=console

# TN (Transaction Node) - Example: Larger cache for TN
# TN_MEMORY_CACHE=4GB
# TN_DISK_CACHE=50GB

# Examples:
# ==========================================

# Example 1: Increase memory cache for CNs only (not proxy/TN)
# CN1_MEMORY_CACHE=2GB
# CN2_MEMORY_CACHE=2GB

# Example 2: Debug logging for proxy only
# PROXY_LOG_LEVEL=debug
# PROXY_LOG_FORMAT=json

# Example 3: Different cache sizes per service
# CN1_MEMORY_CACHE=4GB
# CN2_MEMORY_CACHE=2GB
# TN_MEMORY_CACHE=1GB
# PROXY_MEMORY_CACHE=512MB  # Proxy doesn't use cache, but shown for completeness

# Example 4: Enable metrics for all services
# DISABLE_METRIC=false

# Example 5: Mixed - common log level, but debug for proxy
# LOG_LEVEL=info              # Default for all
# PROXY_LOG_LEVEL=debug       # Override for proxy only

