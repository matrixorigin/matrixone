set global enable_privilege_cache = off;
create role role_r1,role_r2,role_r3;
create user role_u1 identified by '111', role_u2 identified by '111', role_u3 identified by '111';
grant role_r1 to role_u1;
grant role_r1,role_r2,role_r3 to role_u1,role_u2,role_u2;
grant role_r1 to role_r2;
grant role_r2 to role_r3;
grant role_r3 to role_r1;
revoke role_r2 from role_r3;
revoke role_r1 from role_r2;
grant show databases on account * to role_r1;
grant show databases on database * to role_r1;
grant show tables on database * to role_r1;
grant create database on account * to role_r1;
grant create table on database * to role_r1;
drop database if exists t;
create database t ;
use t;
create table A (a int);
grant select,insert,delete,update on table t.a to role_r1;
revoke select,insert,delete,update on table t.a from role_r1;
create database d;
use d;
create table t(a int);
grant create account on account * to role_r1;
grant drop account on account * to role_r1;
grant alter account on account * to role_r1;
grant create user on account * to role_r1;
grant drop user on account * to role_r1;
grant alter user on account * to role_r1;
grant create role on account * to role_r1;
grant drop role on account * to role_r1;
grant alter role on account * to role_r1;
grant create database on account * to role_r1;
grant drop database on account * to role_r1;
grant show databases on account * to role_r1;
grant connect on account * to role_r1;
-- grant manage grants on account * to role_r1;
grant all on account * to role_r1;
grant ownership on account * to role_r1;
grant show tables on database * to role_r1;
grant show tables on database *.* to role_r1;
grant show tables on database d to role_r1;
grant create table on database * to role_r1;
grant create table on database *.* to role_r1;
grant create table on database d to role_r1;
grant create view on database * to role_r1;
grant create view on database *.* to role_r1;
grant create view on database d to role_r1;
grant drop table on database * to role_r1;
grant drop table on database *.* to role_r1;
grant drop table on database d to role_r1;
grant drop view on database * to role_r1;
grant drop view on database *.* to role_r1;
grant drop view on database d to role_r1;
grant alter table on database * to role_r1;
grant alter table on database *.* to role_r1;
grant alter table on database d to role_r1;
grant alter view on database * to role_r1;
grant alter view on database *.* to role_r1;
grant alter view on database d to role_r1;
grant all on database * to role_r1;
grant all on database *.* to role_r1;
grant all on database d to role_r1;
grant ownership on database * to role_r1;
grant select on table * to role_r1;
grant select on table *.* to role_r1;
grant select on table d.* to role_r1;
grant select on table d.t to role_r1;
grant select on table t to role_r1;
grant insert on table * to role_r1;
grant insert on table *.* to role_r1;
grant insert on table d.* to role_r1;
grant insert on table d.t to role_r1;
grant insert on table t to role_r1;
grant update on table * to role_r1;
grant update on table *.* to role_r1;
grant update on table d.* to role_r1;
grant update on table d.t to role_r1;
grant update on table t to role_r1;
--grant truncate on table * to role_r1;
--grant truncate on table *.* to role_r1;
--grant truncate on table d.* to role_r1;
--grant truncate on table d.t to role_r1;
--grant truncate on table t to role_r1;
grant delete on table * to role_r1;
grant delete on table *.* to role_r1;
grant delete on table d.* to role_r1;
grant delete on table d.t to role_r1;
grant delete on table t to role_r1;
--grant reference on table * to role_r1;
--grant reference on table *.* to role_r1;
--grant reference on table d.* to role_r1;
--grant reference on table d.t to role_r1;
--grant reference on table t to role_r1;
grant index on table * to role_r1;
grant index on table *.* to role_r1;
grant index on table d.* to role_r1;
grant index on table d.t to role_r1;
grant index on table t to role_r1;
grant all on table * to role_r1;
grant all on table *.* to role_r1;
grant all on table d.* to role_r1;
grant all on table d.t to role_r1;
grant all on table t to role_r1;
grant ownership on table * to role_r1;
grant execute on table * to role_r1;
grant execute on table *.* to role_r1;
grant execute on table d.* to role_r1;
grant execute on table d.t to role_r1;
grant execute on table t to role_r1;
revoke create account on account * from role_r1;
revoke drop account on account * from role_r1;
revoke alter account on account * from role_r1;
revoke create user on account * from role_r1;
revoke drop user on account * from role_r1;
revoke alter user on account * from role_r1;
revoke create role on account * from role_r1;
revoke drop role on account * from role_r1;
revoke alter role on account * from role_r1;
revoke create database on account * from role_r1;
revoke drop database on account * from role_r1;
revoke show databases on account * from role_r1;
revoke connect on account * from role_r1;
revoke all on account * from role_r1;
--revoke ownership on account * from role_r1;
revoke show tables on database * from role_r1;
revoke show tables on database *.* from role_r1;
revoke show tables on database d from role_r1;
revoke create table on database * from role_r1;
revoke create table on database *.* from role_r1;
revoke create table on database d from role_r1;
revoke create view on database * from role_r1;
revoke create view on database *.* from role_r1;
revoke create view on database d from role_r1;
revoke drop table on database * from role_r1;
revoke drop table on database *.* from role_r1;
revoke drop table on database d from role_r1;
revoke drop view on database * from role_r1;
revoke drop view on database *.* from role_r1;
revoke drop view on database d from role_r1;
revoke alter table on database * from role_r1;
revoke alter table on database *.* from role_r1;
revoke alter table on database d from role_r1;
revoke alter view on database * from role_r1;
revoke alter view on database *.* from role_r1;
revoke alter view on database d from role_r1;
revoke all on database * from role_r1;
revoke all on database *.* from role_r1;
revoke all on database d from role_r1;
--revoke ownership on database * from role_r1;
revoke select on table * from role_r1;
revoke select on table *.* from role_r1;
revoke select on table d.* from role_r1;
revoke select on table d.t from role_r1;
revoke select on table t from role_r1;
revoke insert on table * from role_r1;
revoke insert on table *.* from role_r1;
revoke insert on table d.* from role_r1;
revoke insert on table d.t from role_r1;
revoke insert on table t from role_r1;
revoke update on table * from role_r1;
revoke update on table *.* from role_r1;
revoke update on table d.* from role_r1;
revoke update on table d.t from role_r1;
revoke update on table t from role_r1;
revoke delete on table * from role_r1;
revoke delete on table *.* from role_r1;
revoke delete on table d.* from role_r1;
revoke delete on table d.t from role_r1;
revoke delete on table t from role_r1;
revoke index on table * from role_r1;
revoke index on table *.* from role_r1;
revoke index on table d.* from role_r1;
revoke index on table d.t from role_r1;
revoke index on table t from role_r1;
revoke all on table * from role_r1;
revoke all on table *.* from role_r1;
revoke all on table d.* from role_r1;
revoke all on table d.t from role_r1;
revoke all on table t from role_r1;
--revoke ownership on table * from role_r1;
revoke execute on table * from role_r1;
revoke execute on table *.* from role_r1;
revoke execute on table d.* from role_r1;
revoke execute on table d.t from role_r1;
revoke execute on table t from role_r1;

drop role role_r1,role_r2,role_r3;
drop user role_u1,role_u2,role_u3;
drop database if exists t;
drop database if exists d;
set global enable_privilege_cache = on;