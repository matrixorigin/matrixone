create sequence seq_01 as int start 30;
create sequence `123` start 30;
select nextval('123');
â¤ nextval(123)[12,-1,0]  ğ„€
30
create sequence SEQ increment 100 start 30;
create sequence sEq increment 100 start 30;
table seq already exists
create sequence `ä¸­æ–‡` maxvalue 6899 cycle;
select nextval('ä¸­æ–‡');
â¤ nextval(ä¸­æ–‡)[12,-1,0]  ğ„€
1
select nextval('ä¸­æ–‡'),currval('ä¸­æ–‡');
â¤ nextval(ä¸­æ–‡)[12,-1,0]  Â¦  currval(ä¸­æ–‡)[12,-1,0]  ğ„€
2  Â¦  2
create sequence `test@123456`;
select nextval('test@123456');
â¤ nextval(test@123456)[12,-1,0]  ğ„€
1
select nextval('test@123456'),currval('test@123456');
â¤ nextval(test@123456)[12,-1,0]  Â¦  currval(test@123456)[12,-1,0]  ğ„€
2  Â¦  2
create sequence _acc;
select nextval('_acc');
â¤ nextval(_acc)[12,-1,0]  ğ„€
1
select nextval('_acc'),currval('_acc');
â¤ nextval(_acc)[12,-1,0]  Â¦  currval(_acc)[12,-1,0]  ğ„€
2  Â¦  2
create sequence `ab.cd` start with 1;
select nextval('ab.cd');
â¤ nextval(ab.cd)[12,-1,0]  ğ„€
1
select nextval('ab.cd'),currval('ab.cd');
â¤ nextval(ab.cd)[12,-1,0]  Â¦  currval(ab.cd)[12,-1,0]  ğ„€
2  Â¦  2
create sequence `abcddddddfsfafaffsefsfsefljofiseosfjosisssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss24444444444444444444444444222222222@fffffffffffffffffffffffffffffffffffffffffffffffffffff` start 30;
select nextval('abcddddddfsfafaffsefsfsefljofiseosfjosisssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss24444444444444444444444444222222222@fffffffffffffffffffffffffffffffffffffffffffffffffffff') as s1;
â¤ s1[12,-1,0]  ğ„€
30
create table if not exists seq_temp(col1 int);
create sequence seq_temp start 10;
table seq_temp already exists
drop table seq_temp;
create table if not exists table_temp(col1 int);
create view seq_temp as select * from table_temp;
create sequence seq_temp start 10;
table seq_temp already exists
drop view seq_temp;
drop table table_temp;
create external table seq_temp(num_col1 tinyint,num_col2 smallint,num_col3 int,num_col4 bigint,num_col5 tinyint unsigned,num_col6 smallint unsigned,num_col7 int unsigned,num_col8 bigint unsigned ,num_col9 float(5,3),num_col10 double,num_col11 decimal(38,19)) infile{"filepath"='$resources/external_table_file/ex_table_number.csv'} fields terminated by ',' enclosed by '\"' lines terminated by '\n';
create sequence seq_temp start 10;
table seq_temp already exists
drop table seq_temp;
create sequence seq_temp start 10;
create sequence seq_temp start 10;
table seq_temp already exists
create sequence Seq_temp start 10;
table seq_temp already exists
create sequence sequence;
create sequence table as bigint;
SQL parser error: You have an error in your SQL syntax; check the manual that corresponds to your MatrixOne server version for the right syntax to use. syntax error at line 1 column 21 near " table as bigint;";
create sequence seq_01 as tinyint unsigned MINVALUE 26  NO CYCLE;
table seq_01 already exists
create sequence if not exists seq_01 as tinyint unsigned MINVALUE 26  NO CYCLE;
create sequence if not exists seq_02 as tinyint CYCLE;
not supported: Unsupported type for sequence
create sequence seq_03 increment 3;
select nextval('seq_03');
â¤ nextval(seq_03)[12,-1,0]  ğ„€
1
select nextval('seq_03'),currval('seq_03');
â¤ nextval(seq_03)[12,-1,0]  Â¦  currval(seq_03)[12,-1,0]  ğ„€
4  Â¦  4
select nextval('seq_03');
â¤ nextval(seq_03)[12,-1,0]  ğ„€
7
select nextval('seq_03');
â¤ nextval(seq_03)[12,-1,0]  ğ„€
10
select * from seq_03;
â¤ last_seq_num[-5,64,0]  Â¦  min_value[-5,64,0]  Â¦  max_value[-5,64,0]  Â¦  start_value[-5,64,0]  Â¦  increment_value[-5,64,0]  Â¦  cycle[12,4,0]  Â¦  is_called[12,4,0]  ğ„€
10  Â¦  1  Â¦  9223372036854775807  Â¦  1  Â¦  3  Â¦  false  Â¦  true
create sequence seq_04 increment by -10;
select nextval('seq_04');
â¤ nextval(seq_04)[12,-1,0]  ğ„€
-1
select nextval('seq_04'),currval('seq_04');
â¤ nextval(seq_04)[12,-1,0]  Â¦  currval(seq_04)[12,-1,0]  ğ„€
-11  Â¦  -11
select nextval('seq_04');
â¤ nextval(seq_04)[12,-1,0]  ğ„€
-21
select nextval('seq_04'),currval('seq_04');
â¤ nextval(seq_04)[12,-1,0]  Â¦  currval(seq_04)[12,-1,0]  ğ„€
-31  Â¦  -31
create sequence seq_05 start 10000;
select nextval('seq_05');
â¤ nextval(seq_05)[12,-1,0]  ğ„€
10000
select nextval('seq_05'),currval('seq_05');
â¤ nextval(seq_05)[12,-1,0]  Â¦  currval(seq_05)[12,-1,0]  ğ„€
10001  Â¦  10001
create table seq_table_01(col1 int);
insert into seq_table_01 values(nextval('seq_05')),(nextval('seq_04')),(nextval('seq_05')),(nextval('seq_05'));
select col1 from seq_table_01;
â¤ col1[4,32,0]  ğ„€
10002  ğ„€
-41  ğ„€
10003  ğ„€
10004
create sequence seq_06 start with 10000;
select nextval('seq_06');
â¤ nextval(seq_06)[12,-1,0]  ğ„€
10000
select nextval('seq_06'),currval('seq_06');
â¤ nextval(seq_06)[12,-1,0]  Â¦  currval(seq_06)[12,-1,0]  ğ„€
10001  Â¦  10001
select nextval('seq_06'),currval('seq_06');
â¤ nextval(seq_06)[12,-1,0]  Â¦  currval(seq_06)[12,-1,0]  ğ„€
10002  Â¦  10002
select nextval('seq_06');
â¤ nextval(seq_06)[12,-1,0]  ğ„€
10003
select nextval('seq_06');
â¤ nextval(seq_06)[12,-1,0]  ğ„€
10004
select * from seq_06;
â¤ last_seq_num[-5,64,0]  Â¦  min_value[-5,64,0]  Â¦  max_value[-5,64,0]  Â¦  start_value[-5,64,0]  Â¦  increment_value[-5,64,0]  Â¦  cycle[12,4,0]  Â¦  is_called[12,4,0]  ğ„€
10004  Â¦  1  Â¦  9223372036854775807  Â¦  10000  Â¦  1  Â¦  false  Â¦  true
truncate table seq_table_01;
insert into seq_table_01 values(nextval('seq_06')),(nextval('seq_06'));
insert into seq_table_01 values(nextval('seq_06'));
select col1 from seq_table_01;
â¤ col1[4,32,0]  ğ„€
10005  ğ„€
10006  ğ„€
10007
create sequence seq_07 minvalue 999 maxvalue 1999;
select nextval('seq_07');
â¤ nextval(seq_07)[12,-1,0]  ğ„€
999
select nextval('seq_07'),currval('seq_07');
â¤ nextval(seq_07)[12,-1,0]  Â¦  currval(seq_07)[12,-1,0]  ğ„€
1000  Â¦  1000
select nextval('seq_07'),currval('seq_07');
â¤ nextval(seq_07)[12,-1,0]  Â¦  currval(seq_07)[12,-1,0]  ğ„€
1001  Â¦  1001
select nextval('seq_07');
â¤ nextval(seq_07)[12,-1,0]  ğ„€
1002
select setval('seq_07',1050,false);
â¤ setval(seq_07, 1050, false)[12,-1,0]  ğ„€
1050
select lastval();
â¤ lastval()[12,-1,0]  ğ„€
1002
truncate table seq_table_01;
insert into seq_table_01 values(nextval('seq_07'));
insert into seq_table_01 select nextval('seq_07');
select * from seq_table_01;
â¤ col1[4,32,0]  ğ„€
1051  ğ„€
1052
create sequence seq_08;
select nextval('seq_08');
â¤ nextval(seq_08)[12,-1,0]  ğ„€
1
select nextval('seq_08'),currval('seq_08');
â¤ nextval(seq_08)[12,-1,0]  Â¦  currval(seq_08)[12,-1,0]  ğ„€
2  Â¦  2
select nextval('seq_08'),currval('seq_08');
â¤ nextval(seq_08)[12,-1,0]  Â¦  currval(seq_08)[12,-1,0]  ğ„€
3  Â¦  3
create sequence seq_09 minvalue 10 maxvalue 12 no cycle;
select nextval('seq_09');
â¤ nextval(seq_09)[12,-1,0]  ğ„€
10
select nextval('seq_09');
â¤ nextval(seq_09)[12,-1,0]  ğ„€
11
select nextval('seq_09');
â¤ nextval(seq_09)[12,-1,0]  ğ„€
12
select nextval('seq_09');
internal error: Reached maximum value of sequence seq_09
drop sequence seq_09;
create sequence seq_09 increment 2 minvalue 10 maxvalue 12 cycle;
select nextval('seq_09');
â¤ nextval(seq_09)[12,-1,0]  ğ„€
10
select nextval('seq_09');
â¤ nextval(seq_09)[12,-1,0]  ğ„€
12
select nextval('seq_09');
â¤ nextval(seq_09)[12,-1,0]  ğ„€
10
select nextval('seq_09');
â¤ nextval(seq_09)[12,-1,0]  ğ„€
12
select * from seq_09;
â¤ last_seq_num[-5,64,0]  Â¦  min_value[-5,64,0]  Â¦  max_value[-5,64,0]  Â¦  start_value[-5,64,0]  Â¦  increment_value[-5,64,0]  Â¦  cycle[12,4,0]  Â¦  is_called[12,4,0]  ğ„€
12  Â¦  10  Â¦  12  Â¦  10  Â¦  2  Â¦  true  Â¦  true
create sequence seq_10 minvalue 1000;
select nextval('seq_10');
â¤ nextval(seq_10)[12,-1,0]  ğ„€
1000
select nextval('seq_10'),currval('seq_10');
â¤ nextval(seq_10)[12,-1,0]  Â¦  currval(seq_10)[12,-1,0]  ğ„€
1001  Â¦  1001
select nextval('seq_10');
â¤ nextval(seq_10)[12,-1,0]  ğ„€
1002
select nextval('seq_10');
â¤ nextval(seq_10)[12,-1,0]  ğ„€
1003
select nextval('seq_08'),currval('seq_08');
â¤ nextval(seq_08)[12,-1,0]  Â¦  currval(seq_08)[12,-1,0]  ğ„€
4  Â¦  4
create sequence seq_11 as smallint start 126;
select nextval('seq_11');
â¤ nextval(seq_11)[12,-1,0]  ğ„€
126
select nextval('seq_11'),currval('seq_11');
â¤ nextval(seq_11)[12,-1,0]  Â¦  currval(seq_11)[12,-1,0]  ğ„€
127  Â¦  127
select nextval('seq_11');
â¤ nextval(seq_11)[12,-1,0]  ğ„€
128
select nextval('seq_11');
â¤ nextval(seq_11)[12,-1,0]  ğ„€
129
create sequence if not exists seq_12 as bigint increment by 10000 minvalue 500  start with 500 cycle;
select nextval('seq_12');
â¤ nextval(seq_12)[12,-1,0]  ğ„€
500
select nextval('seq_12'),currval('seq_12');
â¤ nextval(seq_12)[12,-1,0]  Â¦  currval(seq_12)[12,-1,0]  ğ„€
10500  Â¦  10500
select nextval('seq_12'),currval('seq_12');
â¤ nextval(seq_12)[12,-1,0]  Â¦  currval(seq_12)[12,-1,0]  ğ„€
20500  Â¦  20500
select nextval('seq_12');
â¤ nextval(seq_12)[12,-1,0]  ğ„€
30500
select * from seq_12;
â¤ last_seq_num[-5,64,0]  Â¦  min_value[-5,64,0]  Â¦  max_value[-5,64,0]  Â¦  start_value[-5,64,0]  Â¦  increment_value[-5,64,0]  Â¦  cycle[12,4,0]  Â¦  is_called[12,4,0]  ğ„€
30500  Â¦  500  Â¦  9223372036854775807  Â¦  500  Â¦  10000  Â¦  true  Â¦  true
truncate table seq_table_01;
insert into seq_table_01 select nextval('seq_12');
insert into seq_table_01 values(nextval('seq_12'));
select * from seq_table_01;
â¤ col1[4,32,0]  ğ„€
40500  ğ„€
50500
create sequence seq_13 as int increment -10000  no cycle;
select nextval('seq_13');
â¤ nextval(seq_13)[12,-1,0]  ğ„€
-1
select nextval('seq_13'),currval('seq_13');
â¤ nextval(seq_13)[12,-1,0]  Â¦  currval(seq_13)[12,-1,0]  ğ„€
-10001  Â¦  -10001
truncate table seq_table_01;
insert into seq_table_01 select nextval('seq_13');
insert into seq_table_01 values(nextval('seq_13'));
select * from seq_table_01;
â¤ col1[4,32,0]  ğ„€
-20001  ğ„€
-30001
create sequence seq_14  increment 50 start with 126 no cycle;
select nextval('seq_14');
â¤ nextval(seq_14)[12,-1,0]  ğ„€
126
select nextval('seq_14'),currval('seq_14');
â¤ nextval(seq_14)[12,-1,0]  Â¦  currval(seq_14)[12,-1,0]  ğ„€
176  Â¦  176
truncate table seq_table_01;
insert into seq_table_01 select nextval('seq_14');
insert into seq_table_01 values(nextval('seq_14'));
insert into seq_table_01 values(nextval('seq_14'));
insert into seq_table_01 values(nextval('seq_14'));
insert into seq_table_01 values(nextval('seq_14'));
select * from seq_table_01;
â¤ col1[4,32,0]  ğ„€
226  ğ„€
276  ğ„€
326  ğ„€
376  ğ„€
426
create sequence seq_an_01 as smallint start -1000;
invalid input: STARTVALUE (-1000) for sequence must between MINVALUE (1) and MAXVALUE (32767)
create sequence if not exists seq_an_01 as bigint increment by 10000 minvalue 500  start with 100;
invalid input: STARTVALUE (100) for sequence must between MINVALUE (500) and MAXVALUE (9223372036854775807)
create sequence seq_an_01 as smallint maxvalue 9999999 start with -10;
invalid input: MAXVALUE (-27009) of sequence must be bigger than MINVALUE (1) of it
create sequence seq_an_01 start with 0;
invalid input: STARTVALUE (0) for sequence must between MINVALUE (1) and MAXVALUE (9223372036854775807)
create sequence seq_an_02 as tinyint unsigned;
not supported: Unsupported type for sequence
create sequence seq_an_02 as tinyint;
not supported: Unsupported type for sequence
create sequence seq_an_03  increment -50 start with 126 no cycle;
invalid input: STARTVALUE (126) for sequence must between MINVALUE (-9223372036854775808) and MAXVALUE (-1)
show sequences;
â¤ Names[12,-1,0]  Â¦  Data Type[12,-1,0]  ğ„€
seq_01  Â¦  INT  ğ„€
123  Â¦  BIGINT  ğ„€
seq  Â¦  BIGINT  ğ„€
ä¸­æ–‡  Â¦  BIGINT  ğ„€
test@123456  Â¦  BIGINT  ğ„€
_acc  Â¦  BIGINT  ğ„€
ab.cd  Â¦  BIGINT  ğ„€
abcddddddfsfafaffsefsfsefljofiseosfjosisssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss24444444444444444444444444222222222@fffffffffffffffffffffffffffffffffffffffffffffffffffff  Â¦  BIGINT  ğ„€
seq_temp  Â¦  BIGINT  ğ„€
sequence  Â¦  BIGINT  ğ„€
seq_03  Â¦  BIGINT  ğ„€
seq_04  Â¦  BIGINT  ğ„€
seq_05  Â¦  BIGINT  ğ„€
seq_06  Â¦  BIGINT  ğ„€
seq_07  Â¦  BIGINT  ğ„€
seq_08  Â¦  BIGINT  ğ„€
seq_09  Â¦  BIGINT  ğ„€
seq_10  Â¦  BIGINT  ğ„€
seq_11  Â¦  SMALLINT  ğ„€
seq_12  Â¦  BIGINT  ğ„€
seq_13  Â¦  INT  ğ„€
seq_14  Â¦  BIGINT
show sequences where names in('seq_05','seq_06');
â¤ names[12,-1,0]  Â¦  data type[12,-1,0]  ğ„€
seq_05  Â¦  BIGINT  ğ„€
seq_06  Â¦  BIGINT
drop sequence seq_15;
no such sequence create_sequence.seq_15
drop sequence if exists seq_15;
drop sequence seq_15;
no such sequence create_sequence.seq_15
drop sequence seq_non;
no such sequence create_sequence.seq_non
create sequence seq_15;
create sequence seq_16 increment 10 start with 20 no cycle;
truncate table seq_table_01;
prepare stmt1 from 'insert into seq_table_01 values(?)';
set @a_var = nextval('seq_15');
execute stmt1 using @a_var;
select * from seq_table_01;
â¤ col1[4,32,0]  ğ„€
1
execute stmt1 using @a_var;
select * from seq_table_01;
â¤ col1[4,32,0]  ğ„€
1  ğ„€
1
execute stmt1 using @a_var;
select * from seq_table_01;
â¤ col1[4,32,0]  ğ„€
1  ğ„€
1  ğ„€
1
drop sequence seq_16;
drop sequence seq_15;
create sequence seq_17 increment 10 start with 20 no cycle;
select lastval();
â¤ lastval()[12,-1,0]  ğ„€
1
select nextval('seq_17');
â¤ nextval(seq_17)[12,-1,0]  ğ„€
20
select lastval();
â¤ lastval()[12,-1,0]  ğ„€
20
select setval('seq_17',5);
â¤ setval(seq_17, 5)[12,-1,0]  ğ„€
5
select nextval('seq_17'),currval('seq_17');
â¤ nextval(seq_17)[12,-1,0]  Â¦  currval(seq_17)[12,-1,0]  ğ„€
15  Â¦  15
select setval('seq_17',8,false);
â¤ setval(seq_17, 8, false)[12,-1,0]  ğ„€
8
select nextval('seq_17'),currval('seq_17');
â¤ nextval(seq_17)[12,-1,0]  Â¦  currval(seq_17)[12,-1,0]  ğ„€
18  Â¦  18
select nextval('seq_17'),currval('seq_17');
â¤ nextval(seq_17)[12,-1,0]  Â¦  currval(seq_17)[12,-1,0]  ğ„€
28  Â¦  28
select lastval();
â¤ lastval()[12,-1,0]  ğ„€
28
begin;
[unknown result because it is related to issue#8890]
create sequence seq_18 minvalue 1000;
[unknown result because it is related to issue#8890]
select nextval('seq_18');
[unknown result because it is related to issue#8890]
select nextval('seq_18');
[unknown result because it is related to issue#8890]
create sequence seq_18;
[unknown result because it is related to issue#8890]
select nextval('seq_18');
[unknown result because it is related to issue#8890]
commit;
[unknown result because it is related to issue#8890]
select nextval('seq_18'),currval('seq_18');
[unknown result because it is related to issue#8890]
drop sequence seq_18;
[unknown result because it is related to issue#8890]
begin;
[unknown result because it is related to issue#8890]
create sequence seq_19 minvalue 1000;
[unknown result because it is related to issue#8890]
select nextval('seq_19');
[unknown result because it is related to issue#8890]
select nextval('seq_19');
[unknown result because it is related to issue#8890]
create sequence seq_19;
[unknown result because it is related to issue#8890]
rollback;
[unknown result because it is related to issue#8890]
select nextval('seq_19');
[unknown result because it is related to issue#8890]
drop sequence seq_19;
[unknown result because it is related to issue#8890]
start transaction ;
[unknown result because it is related to issue#8890]
create sequence seq_20 increment by -10;
[unknown result because it is related to issue#8890]
select nextval('seq_20');
[unknown result because it is related to issue#8890]
rollback;
[unknown result because it is related to issue#8890]
select nextval('seq_20');
[unknown result because it is related to issue#8890]
drop sequence seq_20;
[unknown result because it is related to issue#8890]
