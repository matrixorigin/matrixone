drop database if exists test;
create database test;
use test;

create table t1(a int) with retention period 10 month;
select * from mo_catalog.mo_retention;
database_name    table_name    retention_deadline
test    t1    1750919325
create table t2(a int) with retention period 1 second;
select * from mo_catalog.mo_retention;
database_name    table_name    retention_deadline
test    t1    1750919325
test    t2    1724639327
select mo_ctl('cn', 'task', 'retention:*/5 * * * * ?');
mo_ctl(cn, task, retention:*/5 * * * * ?)
{\n  "method": "TASK",\n  "result": "OK"\n}\n
select sleep(10);
sleep(10)
0
show tables;
Tables_in_test
t1
select * from mo_catalog.mo_retention;
database_name    table_name    retention_deadline
test    t1    1750919325
select mo_ctl('cn', 'task', 'retention:* */10 * * * ?');
mo_ctl(cn, task, retention:* */10 * * * ?)
{\n  "method": "TASK",\n  "result": "OK"\n}\n
create account acc0 admin_name 'root' identified by '111';
create database test;
use test;
select * from mo_catalog.mo_retention;
database_name    table_name    retention_deadline
create table t1(a int) with retention period 10 month;
select * from mo_catalog.mo_retention;
database_name    table_name    retention_deadline
test    t1    1750919325
drop table t1;
select * from mo_catalog.mo_retention;
database_name    table_name    retention_deadline
drop account acc0;