set ft_relevancy_algorithm="TF-IDF";
create table src (id bigint primary key, body varchar, title text, FULLTEXT ftidx (body, title) ASYNC);
insert into src values (0, 'color is red', 't1'), (1, 'car is yellow', 'crazy car'), (2, 'sky is blue', 'no limit'), (3, 'blue is not red', 'colorful'),
(4, 'é æ±å…’ç«¥ä¸­æ–‡æ˜¯é‡å°6åˆ°9æ­²çš„å°æœ‹å‹ç²¾å¿ƒè¨­è¨ˆçš„ä¸­æ–‡å­¸ç¿’æ•™æï¼Œå…±ä¸‰å†Šï¼Œç›®å‰å·²å‡ºç‰ˆä¸€ã€äºŒå†Šã€‚', 'é æ±å…’ç«¥ä¸­æ–‡'),
(5, 'æ¯å†Šå‡æ¡ç”¨è¿‘ç™¾å¼µå…¨å¹…å½©åœ–åŠç…§ç‰‡ï¼Œç”Ÿå‹•æ´»æ½‘ã€è‡ªç„¶çœŸå¯¦ï¼ŒåŠ æ·±å…’ç«¥å­¸ç¿’å°è±¡ï¼Œæ´‹æº¢å­¸ç¿’æ¨‚è¶£ã€‚', 'é æ±å…’ç«¥ä¸­æ–‡'),
(6, 'å„å€‹å–®å…ƒä¸»é¡Œå…§å®¹æ¶µè“‹ä¸­è¯æ–‡åŒ–åŠç”Ÿæ´»æ‡‰ç”¨çš„ä»‹ç´¹ã€‚æœ¬å¥—æ•™æå«èª²æœ¬ã€æ•™å­¸æŒ‡å¼•ã€ç”Ÿå­—å¡ã€å­¸ç”Ÿä½œæ¥­æœ¬èˆ‡CDï¼Œä¸­è‹±å°ç…§ï¼Œç²¾ç¾å¤§å­—ç‰ˆã€‚æœ¬ç³»åˆ—æœ‰ç¹é«”å­—åŠç°¡é«”å­—å…©ç¨®ç‰ˆæœ¬å°è¡Œã€‚', 'ä¸­æ–‡çŸ­ç¯‡å°èªª'),
(7, '59å€‹ç°¡å–®çš„è‹±æ–‡å’Œä¸­æ–‡çŸ­ç¯‡å°èªª', 'é©åˆåˆå­¸è€…'),
(8, NULL, 'NOT INCLUDED'),
(9, 'NOT INCLUDED BODY', NULL),
(10, NULL, NULL);
create table src2 (id1 varchar, id2 bigint, body char(128), title text, primary key (id1, id2), FULLTEXT ftidx(body, title) ASYNC);
insert into src2 values ('id0', 0, 'red', 't1'), ('id1', 1, 'yellow', 't2'), ('id2', 2, 'blue', 't3'), ('id3', 3, 'blue red', 't4'),  ('id4', 4, 'bright red null', NULL);
select * from src where match(body, title) against('red');
â¤ id[-5,64,0]  Â¦  body[12,-1,0]  Â¦  title[12,0,0]  ğ„€
0  Â¦  color is red  Â¦  t1  ğ„€
3  Â¦  blue is not red  Â¦  colorful
show create table src;
â¤ Table[12,-1,0]  Â¦  Create Table[12,-1,0]  ğ„€
src  Â¦  CREATE TABLE `src` (
  `id` bigint NOT NULL,
  `body` varchar(65535) DEFAULT NULL,
  `title` text DEFAULT NULL,
  PRIMARY KEY (`id`),
 FULLTEXT `ftidx`(`body`,`title`) ASYNC
)
alter table src rename to src1;
select * from src2 where match(body, title) against('red');
â¤ id1[12,-1,0]  Â¦  id2[-5,64,0]  Â¦  body[1,128,0]  Â¦  title[12,0,0]  ğ„€
id0  Â¦  0  Â¦  red  Â¦  t1  ğ„€
id3  Â¦  3  Â¦  blue red  Â¦  t4
show create table src2;
â¤ Table[12,-1,0]  Â¦  Create Table[12,-1,0]  ğ„€
src2  Â¦  CREATE TABLE `src2` (
  `id1` varchar(65535) NOT NULL,
  `id2` bigint NOT NULL,
  `body` char(128) DEFAULT NULL,
  `title` text DEFAULT NULL,
  PRIMARY KEY (`id1`,`id2`),
 FULLTEXT `ftidx`(`body`,`title`) ASYNC
)
drop table src1;
drop table src2;
