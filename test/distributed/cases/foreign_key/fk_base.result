create table f1(b int, a int primary key);
create table f2(b int, aa varchar primary key);
create table c1 (a int, b int, foreign key f_a(a) references f1(c));
internal error: column 'c' no exists in table 'f1'
create table c1 (a int, b int, foreign key f_a(a) references f1(b));
internal error: reference column 'b' is not unique constraint(Unique index or Primary Key)
create table c1 (a int, b int, foreign key f_a(a) references f2(aa));
internal error: type of reference column 'aa' is not match for column 'a'
create table c1 (a int, b int, foreign key f_a(a) references f1(a));
select * from f1;
a	b
select * from c1;
a	b
drop table f1;
internal error: can not drop table 'f1' referenced by some foreign key constraint
truncate f1;
internal error: can not truncate table 'f1' referenced by some foreign key constraint
truncate c1;
drop table f1;
internal error: can not drop table 'f1' referenced by some foreign key constraint
drop table c1;
drop table f1;
create table f1(a int primary key, b int unique key);
create table c1 (a int, b int, foreign key f_a(a) references f1(a));
insert into f1 values (1,1), (2,2), (3,3);
insert into c1 values (1,1), (2,2), (3,3);
delete from f1 where a > 1;
internal error: Cannot delete or update a parent row: a foreign key constraint fails
drop table c1;
create table c1 (a int, b int, foreign key f_a(a) references f1(a) on delete set null);
insert into c1 values (1,1), (2,2), (3,3);
delete from f1 where a > 1;
select * from c1;
a	b
1	1
NULL	2
NULL	3
drop table c1;
insert into f1 values (2,2), (3,3);
create table c1 (a int, b int, foreign key f_a(a) references f1(a) on delete cascade);
insert into c1 values (1,1), (2,2), (3,3);
delete from f1 where a > 1;
select * from c1;
a	b
1	1
drop table c1;
drop table f1;
create table f1(a int primary key, b int unique key);
create table c1 (a int, b int, foreign key f_a(a) references f1(a));
insert into f1 values (1,1), (2,2), (3,3);
insert into c1 values (1,1), (2,2), (3,3);
update f1 set a = 11 where b = 1;
internal error: Cannot delete or update a parent row: a foreign key constraint fails
update c1 set a = 11 where b = 1;
internal error: Cannot add or update a child row: a foreign key constraint fails
update c1 set a = null where b = 1;
select * from c1 order by b;
a	b
NULL	1
2	2
3	3
update c1 set a = 3 where b = 2;
select * from c1 order by b;
a	b
NULL	1
3	2
3	3
drop table c1;
create table c1 (a int, b int, foreign key f_a(a) references f1(a) on update set null);
insert into c1 values (1,1), (2,2), (3,3);
update f1 set a=11 where a=1;
select * from c1 order by b;
a	b
NULL	1
2	2
3	3
drop table c1;
drop table f1;
create table f1(a int primary key, b int unique key);
create table c1 (a int, b int, foreign key f_a(a) references f1(a) on update cascade);
insert into f1 values (1,1), (2,2), (3,3);
insert into c1 values (1,1), (2,2), (3,3);
update f1 set a=0 where b>1;
Duplicate entry '0' for key 'a'
update f1 set a=0 where b=1;
select * from c1 order by b;
a	b
0	1
2	2
3	3
drop table c1;
drop table f1;