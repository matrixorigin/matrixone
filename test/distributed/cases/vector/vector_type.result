create table vtab1(id int primary key auto_increment,`vecf32` vecf32(0));
Data truncation: data out of range: data type vecf32,  typeLen cannot be less than 1
create table vtab1(id int primary key auto_increment,`vecf32` vecf32(-1));
SQL parser error: You have an error in your SQL syntax; check the manual that corresponds to your MatrixOne server version for the right syntax to use. syntax error at line 1 column 70 near "-1));";
create table vtab2(a int primary key,b vecf32(3) primary key,c vecf64(3));
not supported: VECTOR column 'b' cannot be in primary key
create table vtab32(id int primary key auto_increment,`vecf32_3` vecf32(3),`vecf32_5` vecf32(5));
create table vtab64(id int primary key auto_increment,`vecf64_3` vecf64(3),`vecf64_5` vecf64(5));
insert into vtab32(vecf32_3,vecf32_5) values("[0.8166459,NULL,0.4886152]",NULL);
internal error: error while casting NULL to FLOAT
insert into vtab32(vecf32_3,vecf32_5) values(NULL,NULL);
insert into vtab32(vecf32_3,vecf32_5) values("[0.8166459,0.66616553,0.4886152]",NULL);
insert into vtab32(vecf32_3,vecf32_5) values("0.1726299,3.29088557,30.4330937","0.1726299,3.29088557,30.4330937");
internal error: malformed vector input: 0.1726299,3.29088557,30.4330937
insert into vtab32(vecf32_3,vecf32_5) values ("[0.1726299,3.29088557,30.4330937]","[0.45052445,2.19845265,9.579752,123.48039162,4635.89423394]");
insert into vtab32(vecf32_3,vecf32_5) values ("[8.5606893,6.7903588,821.977768]","[0.46323407,23.49801546,563.9229458,56.07673508,8732.9583881]");
insert into vtab64(vecf64_3,vecf64_5) values("[0.8166459,NULL,0.4886152]",NULL);
internal error: error while casting NULL to DOUBLE
insert into vtab64(vecf64_3,vecf64_5) values(NULL,NULL);
insert into vtab64(vecf64_3,vecf64_5) values("[0.8166459,0.66616553,0.4886152]",NULL);
insert into vtab64(vecf64_3,vecf64_5) values ("[8.5606893,6.7903588,821.977768]","[0.46323407,23.49801546,563.9229458,56.07673508,8732.9583881]");
insert into vtab64(vecf64_3,vecf64_5) values ("[0.9260021,0.26637346,0.06567037]","[0.45756745,65.2996871,321.623636,3.60082066,87.58445764]");
select * from vtab32;
id    vecf32_3    vecf32_5
1    null    null
2    [0.8166459, 0.66616553, 0.4886152]    null
3    [0.1726299, 3.2908857, 30.433094]    [0.45052445, 2.1984527, 9.579752, 123.48039, 4635.894]
4    [8.560689, 6.790359, 821.9778]    [0.46323407, 23.498016, 563.923, 56.076736, 8732.958]
select * from vtab32 where vecf32_3 > "[1,1,1]";
id    vecf32_3    vecf32_5
4    [8.560689, 6.790359, 821.9778]    [0.46323407, 23.498016, 563.923, 56.076736, 8732.958]
select * from vtab32 where vecf32_3 >= "[0.8166459, 0.66616553, 0.4886152]";
id    vecf32_3    vecf32_5
2    [0.8166459, 0.66616553, 0.4886152]    null
4    [8.560689, 6.790359, 821.9778]    [0.46323407, 23.498016, 563.923, 56.076736, 8732.958]
select * from vtab32 where vecf32_5 <= "[0.45052445,2.19845265,9.579752,123.48039162,4635.89423394]";
id    vecf32_3    vecf32_5
3    [0.1726299, 3.2908857, 30.433094]    [0.45052445, 2.1984527, 9.579752, 123.48039, 4635.894]
select * from vtab32 where vecf32_5 <= "[0.4505244500,002.19845265,9.579752,123.48039162,4635.89423394]";
id    vecf32_3    vecf32_5
3    [0.1726299, 3.2908857, 30.433094]    [0.45052445, 2.1984527, 9.579752, 123.48039, 4635.894]
select * from vtab32 where vecf32_5 < "[0.45052445,02.19845265,9.579752,123.48039162,4635.89423394]";
id    vecf32_3    vecf32_5
select * from vtab32 order by vecf32_3;
id    vecf32_3    vecf32_5
1    null    null
3    [0.1726299, 3.2908857, 30.433094]    [0.45052445, 2.1984527, 9.579752, 123.48039, 4635.894]
2    [0.8166459, 0.66616553, 0.4886152]    null
4    [8.560689, 6.790359, 821.9778]    [0.46323407, 23.498016, 563.923, 56.076736, 8732.958]
select * from vtab64 order by vecf64_5 desc;
id    vecf64_3    vecf64_5
3    [8.5606893, 6.7903588, 821.977768]    [0.46323407, 23.49801546, 563.9229458, 56.07673508, 8732.9583881]
4    [0.9260021, 0.26637346, 0.06567037]    [0.45756745, 65.2996871, 321.623636, 3.60082066, 87.58445764]
1    null    null
2    [0.8166459, 0.66616553, 0.4886152]    null
select vecf32_3,count(*) from vtab32 group by vecf32_3 order by vecf32_3;
vecf32_3    count(*)
null    1
[0.1726299, 3.2908857, 30.433094]    1
[0.8166459, 0.66616553, 0.4886152]    1
[8.560689, 6.790359, 821.9778]    1
select * from vtab64;
id    vecf64_3    vecf64_5
1    null    null
2    [0.8166459, 0.66616553, 0.4886152]    null
3    [8.5606893, 6.7903588, 821.977768]    [0.46323407, 23.49801546, 563.9229458, 56.07673508, 8732.9583881]
4    [0.9260021, 0.26637346, 0.06567037]    [0.45756745, 65.2996871, 321.623636, 3.60082066, 87.58445764]
select * from vtab32 where id = 1;
id    vecf32_3    vecf32_5
1    null    null
select * from vtab32 where vecf32_3 = "[0.1726299,3.29088557,30.4330937]";
id    vecf32_3    vecf32_5
3    [0.1726299, 3.2908857, 30.433094]    [0.45052445, 2.1984527, 9.579752, 123.48039, 4635.894]
select * from vtab32 where vecf32_3 is null;
id    vecf32_3    vecf32_5
1    null    null
select * from vtab32 where vecf32_3 is not null;
id    vecf32_3    vecf32_5
2    [0.8166459, 0.66616553, 0.4886152]    null
3    [0.1726299, 3.2908857, 30.433094]    [0.45052445, 2.1984527, 9.579752, 123.48039, 4635.894]
4    [8.560689, 6.790359, 821.9778]    [0.46323407, 23.498016, 563.923, 56.076736, 8732.958]
select * from vtab64 where id = 2;
id    vecf64_3    vecf64_5
2    [0.8166459, 0.66616553, 0.4886152]    null
select * from vtab64 where vecf64_5 = "[0.46323407,23.49801546,563.9229458,56.07673508,8732.9583881]";
id    vecf64_3    vecf64_5
3    [8.5606893, 6.7903588, 821.977768]    [0.46323407, 23.49801546, 563.9229458, 56.07673508, 8732.9583881]
select * from vtab64 where vecf64_5 is null;
id    vecf64_3    vecf64_5
1    null    null
2    [0.8166459, 0.66616553, 0.4886152]    null
select * from vtab64 where vecf64_5 is not null;
id    vecf64_3    vecf64_5
3    [8.5606893, 6.7903588, 821.977768]    [0.46323407, 23.49801546, 563.9229458, 56.07673508, 8732.9583881]
4    [0.9260021, 0.26637346, 0.06567037]    [0.45756745, 65.2996871, 321.623636, 3.60082066, 87.58445764]
select a.id,a.vecf32_3, a.vecf32_5, b.id, b.vecf64_3, b.vecf64_5 from vtab32 a, vtab64 b where a.id = b.id;
id    vecf32_3    vecf32_5    id    vecf64_3    vecf64_5
1    null    null    1    null    null
2    [0.8166459, 0.66616553, 0.4886152]    null    2    [0.8166459, 0.66616553, 0.4886152]    null
3    [0.1726299, 3.2908857, 30.433094]    [0.45052445, 2.1984527, 9.579752, 123.48039, 4635.894]    3    [8.5606893, 6.7903588, 821.977768]    [0.46323407, 23.49801546, 563.9229458, 56.07673508, 8732.9583881]
4    [8.560689, 6.790359, 821.9778]    [0.46323407, 23.498016, 563.923, 56.076736, 8732.958]    4    [0.9260021, 0.26637346, 0.06567037]    [0.45756745, 65.2996871, 321.623636, 3.60082066, 87.58445764]
select * from vtab64 join vtab32 on vtab64.vecf32_3 = vtab32.vecf32_3;
invalid input: column 'vtab64.vecf32_3' does not exist
select * from vtab32 left join vtab64 on vtab64.vecf32_5 = vtab32.vecf32_5;
invalid input: column 'vtab64.vecf32_5' does not exist
select count(*), SUMMATION(vecf32_3) from vtab32 group by SUMMATION(vecf32_3) order by SUMMATION(vecf32_3);
count(*)    summation(vecf32_3)
1    null
1    1.9714266657829285
1    33.89660960435867
1    837.3288311958313
select id,vecf32_3 + vecf32_3, vecf32_5 + vecf32_5 from vtab32;
id    vecf32_3 + vecf32_3    vecf32_5 + vecf32_5
1    null    null
2    [1.6332918, 1.3323311, 0.9772304]    null
3    [0.3452598, 6.5817714, 60.866188]    [0.9010489, 4.3969054, 19.159504, 246.96078, 9271.788]
4    [17.121378, 13.580718, 1643.9556]    [0.92646813, 46.996033, 1127.846, 112.15347, 17465.916]
select id,vecf32_3 + "[1,1,1]", vecf32_5 + vecf32_5 from vtab32;
id    vecf32_3 + [1,1,1]    vecf32_5 + vecf32_5
1    null    null
2    [1.8166459, 1.6661656, 1.4886153]    null
3    [1.1726298, 4.290886, 31.433094]    [0.9010489, 4.3969054, 19.159504, 246.96078, 9271.788]
4    [9.560689, 7.790359, 822.9778]    [0.92646813, 46.996033, 1127.846, 112.15347, 17465.916]
select id,vecf32_3 - vecf32_3, vecf32_5 - vecf32_5 from vtab32;
id    vecf32_3 - vecf32_3    vecf32_5 - vecf32_5
1    null    null
2    [0, 0, 0]    null
3    [0, 0, 0]    [0, 0, 0, 0, 0]
4    [0, 0, 0]    [0, 0, 0, 0, 0]
select id,vecf32_3 * vecf32_3, vecf32_5 * vecf32_5 from vtab32;
id    vecf32_3 * vecf32_3    vecf32_5 * vecf32_5
1    null    null
2    [0.6669106, 0.44377652, 0.23874483]    null
3    [0.02980108, 10.829928, 926.1732]    [0.20297228, 4.8331943, 91.771645, 15247.407, 21491514]
4    [73.28539, 46.108974, 675647.5]    [0.2145858, 552.1568, 318009.12, 3144.6003, 76264550]
select id,vecf32_3 / vecf32_3, vecf32_5 / vecf32_5 from vtab32;
id    vecf32_3 / vecf32_3    vecf32_5 / vecf32_5
1    null    null
2    [1, 1, 1]    null
3    [1, 1, 1]    [1, 1, 1, 1, 1]
4    [1, 1, 1]    [1, 1, 1, 1, 1]
select id,vecf64_3 + vecf64_3, vecf64_5 + vecf64_5 from vtab64;
id    vecf64_3 + vecf64_3    vecf64_5 + vecf64_5
1    null    null
2    [1.6332918, 1.33233106, 0.9772304]    null
3    [17.1213786, 13.5807176, 1643.955536]    [0.92646814, 46.99603092, 1127.8458916, 112.15347016, 17465.9167762]
4    [1.8520042, 0.53274692, 0.13134074]    [0.9151349, 130.5993742, 643.247272, 7.20164132, 175.16891528]
select id,vecf64_3 + "[1,1,1]", vecf64_5 + vecf64_5 from vtab64;
id    vecf64_3 + [1,1,1]    vecf64_5 + vecf64_5
1    null    null
2    [1.8166459000000001, 1.66616553, 1.4886152]    null
3    [9.5606893, 7.7903588, 822.977768]    [0.92646814, 46.99603092, 1127.8458916, 112.15347016, 17465.9167762]
4    [1.9260021, 1.26637346, 1.06567037]    [0.9151349, 130.5993742, 643.247272, 7.20164132, 175.16891528]
select id,vecf64_3 - vecf64_3, vecf64_5 - vecf64_5 from vtab64;
id    vecf64_3 - vecf64_3    vecf64_5 - vecf64_5
1    null    null
2    [0, 0, 0]    null
3    [0, 0, 0]    [0, 0, 0, 0, 0]
4    [0, 0, 0]    [0, 0, 0, 0, 0]
select id,vecf64_3 * vecf64_3, vecf64_5 * vecf64_5 from vtab64;
id    vecf64_3 * vecf64_3    vecf64_5 * vecf64_5
1    null    null
2    [0.6669105259868101, 0.4437765133601809, 0.23874481367104003]    null
3    [73.28540129113449, 46.10897263273744, 675647.4510862618]    [0.2145858036087649, 552.1567305583991, 318009.08879974973, 3144.6002172325025, 76264562.20828615]
4    [0.8574798892044101, 0.0709548201923716, 0.0043125974959369005]    [0.2093679712995025, 4264.049135357906, 103441.76323386047, 12.965909425482836, 7671.037220092954]
select id,vecf64_3 / vecf64_3, vecf64_5 / vecf64_5 from vtab64;
id    vecf64_3 / vecf64_3    vecf64_5 / vecf64_5
1    null    null
2    [1, 1, 1]    null
3    [1, 1, 1]    [1, 1, 1, 1, 1]
4    [1, 1, 1]    [1, 1, 1, 1, 1]
select a.id,a.vecf32_3 + b.vecf64_3, a.vecf32_5 + b.vecf64_5 from vtab32 a, vtab64 b where a.id = b.id;
id    a.vecf32_3 + b.vecf64_3    a.vecf32_5 + b.vecf64_5
1    null    null
2    [1.633291820276642, 1.3323310606816101, 0.9772304148246765]    null
3    [8.73331919282608, 10.08124448687439, 852.4108620246582]    [0.9137585193484496, 25.696468171105348, 573.5026977683838, 179.55712753605468, 13368.85243106875]
4    [9.486691072473144, 7.056732480233154, 822.043453573125]    [0.9208015169631958, 88.79770345742187, 885.5466096328125, 59.67755711019531, 8820.5424654525]
select a.id,a.vecf32_3 + b.vecf64_3, a.vecf32_5 + b.vecf64_5 from vtab32 a, vtab64 b where a.vecf32_3 is not null;
id    a.vecf32_3 + b.vecf64_3    a.vecf32_5 + b.vecf64_5
2    null    null
3    null    null
4    null    null
2    [1.633291820276642, 1.3323310606816101, 0.9772304148246765]    null
3    [0.9892757928260804, 3.9570512168743894, 30.921709224658205]    null
4    [9.377334872473144, 7.456524550233154, 822.466398403125]    null
2    [9.377335220276642, 7.45652433068161, 822.4663832148246]    null
3    [8.73331919282608, 10.08124448687439, 852.4108620246582]    [0.9137585193484496, 25.696468171105348, 573.5026977683838, 179.55712753605468, 13368.85243106875]
4    [17.121378272473144, 13.580717820233154, 1643.955551203125]    [0.9264681369631957, 46.99603181742188, 1127.8459194328125, 112.1534715301953, 17465.9163959125]
2    [1.742648020276642, 0.9325389906816102, 0.5542855848246765]    null
3    [1.0986319928260804, 3.5572591468743897, 30.498764394658203]    [0.9080918993484497, 67.49813981110535, 331.20338796838377, 127.08121311605468, 4723.47850060875]
4    [9.486691072473144, 7.056732480233154, 822.043453573125]    [0.9208015169631958, 88.79770345742187, 885.5466096328125, 59.67755711019531, 8820.5424654525]
select a.id,a.vecf32_3 + b.vecf64_3, a.vecf32_5 + b.vecf64_5 from vtab32 a, vtab64 b where a.vecf32_3 is null;
id    a.vecf32_3 + b.vecf64_3    a.vecf32_5 + b.vecf64_5
1    null    null
1    null    null
1    null    null
1    null    null
update vtab32 set vecf32_3 = '0.752072,0.41402978,0.058849692' where id = 1;
internal error: malformed vector input: 0.752072,0.41402978,0.058849692
select * from vtab32;
id    vecf32_3    vecf32_5
1    null    null
2    [0.8166459, 0.66616553, 0.4886152]    null
3    [0.1726299, 3.2908857, 30.433094]    [0.45052445, 2.1984527, 9.579752, 123.48039, 4635.894]
4    [8.560689, 6.790359, 821.9778]    [0.46323407, 23.498016, 563.923, 56.076736, 8732.958]
update vtab64 set vecf64_3 = NULL where id = 1;
select * from vtab32;
id    vecf32_3    vecf32_5
1    null    null
2    [0.8166459, 0.66616553, 0.4886152]    null
3    [0.1726299, 3.2908857, 30.433094]    [0.45052445, 2.1984527, 9.579752, 123.48039, 4635.894]
4    [8.560689, 6.790359, 821.9778]    [0.46323407, 23.498016, 563.923, 56.076736, 8732.958]
update vtab32 set vecf32_3 = '[5.33816308, 78.35970277, 982.7183621]' where id = 1;
select vecf32_3 from vtab32;
vecf32_3
[0.8166459, 0.66616553, 0.4886152]
[0.1726299, 3.2908857, 30.433094]
[8.560689, 6.790359, 821.9778]
[5.338163, 78.3597, 982.7184]
update vtab64 set vecf64_5 = '[43234.87576795,32.8673464,12312.5788535,0.30837893,22.21907276]';
select vecf64_5 from vtab64;
vecf64_5
[43234.87576795, 32.8673464, 12312.5788535, 0.30837893, 22.21907276]
[43234.87576795, 32.8673464, 12312.5788535, 0.30837893, 22.21907276]
[43234.87576795, 32.8673464, 12312.5788535, 0.30837893, 22.21907276]
[43234.87576795, 32.8673464, 12312.5788535, 0.30837893, 22.21907276]
delete from vtab32 where vecf32_3 = '[5.33816308, 78.35970277, 982.7183621]';
create table vtab64_1(id int primary key auto_increment,`vecf64_3` vecf64(3),`vecf64_5` vecf64(5));
load data infile '$resources/vector/vector.csv' into table vtab64_1 fields terminated by ',';
select * from vtab64_1;
id    vecf64_3    vecf64_5
1    null    null
2    [0.8166459, 0.66616553, 0.4886152]    null
3    [8.5606893, 6.7903588, 821.977768]    [0.46323407, 23.49801546, 563.9229458, 56.07673508, 8732.9583881]
4    [0.9260021, 0.26637346, 0.06567037]    [0.45756745, 65.2996871, 321.623636, 3.60082066, 87.58445764]
(select * from vtab64) except (select * from vtab64_1);
id    vecf64_3    vecf64_5
2    [0.8166459, 0.66616553, 0.4886152]    [43234.87576795, 32.8673464, 12312.5788535, 0.30837893, 22.21907276]
3    [8.5606893, 6.7903588, 821.977768]    [43234.87576795, 32.8673464, 12312.5788535, 0.30837893, 22.21907276]
4    [0.9260021, 0.26637346, 0.06567037]    [43234.87576795, 32.8673464, 12312.5788535, 0.30837893, 22.21907276]
1    null    [43234.87576795, 32.8673464, 12312.5788535, 0.30837893, 22.21907276]
