create account if not exists test_tenant_1 admin_name 'test_account' identified by '111';
CREATE DATABASE IF NOT EXISTS mo_mo;
USE mo_mo;
select count(*) from mo_catalog.mo_tables where reldatabase = 'mo_catalog' and relname = 'statement_mo' and relkind = 'cluster';
âž¤ count(*)[-5,64,0]  ð„€
0
select count(*) from mo_catalog.mo_tables where reldatabase = 'mo_mo' and relname = 'stu' and relkind = 'r';
âž¤ count(*)[-5,64,0]  ð„€
0
select count(*) from mo_catalog.mo_tables where reldatabase = 'mo_mo' and relname = 'statement_time' and relkind = 'r';
âž¤ count(*)[-5,64,0]  ð„€
0
select count(*) from mo_catalog.mo_tables where reldatabase = 'mo_mo' and relname = 'moins' and relkind = 'r';
âž¤ count(*)[-5,64,0]  ð„€
0
select count(*) from mo_catalog.mo_tables where reldatabase = 'mo_mo' and relname = 'storage' and relkind = 'r';
âž¤ count(*)[-5,64,0]  ð„€
0
select count(*) from mo_catalog.mo_tables where reldatabase = 'mo_mo' and relname = 'storage_time' and relkind = 'r';
âž¤ count(*)[-5,64,0]  ð„€
0
CREATE CLUSTER TABLE `mo_catalog`.`statement_mo` (`statement_id` varchar(36) NOT NULL,`account` VARCHAR(300) NOT NULL,`response_at` datetime(3) NULL,`stu` DECIMAL(23,3) NOT NULL,PRIMARY KEY (`statement_id`, `account_id`));
internal error: do not have privilege to execute the statement
CREATE TABLE `statement_time` (`cluster` varchar(191) NOT NULL,`last_time` datetime(3) NOT NULL,PRIMARY KEY (`cluster`));
CREATE TABLE `stu` (`account` VARCHAR(300) NOT NULL,`start_time` datetime(3) NOT NULL,`end_time` datetime(3) NOT NULL,`stu` decimal(23,3) NOT NULL,`type` longtext NOT NULL);
CREATE TABLE `mo_mo`.`wb_version` (`id` varchar(128),`wb_id` varchar(128),`sql_content` MEDIUMTEXT,`version` varchar(255),`status` tinyint(4),`created_at` datetime,`updated_at` datetime,PRIMARY KEY (`id`),INDEX `wb_id_idx` (`wb_id`));
CREATE TABLE `mo_mo`.`wb` (`id` varchar(128),`account_id` varchar(128),`sql_user` varchar(128),`name` varchar(128),`created_at` datetime,`updated_at` datetime,PRIMARY KEY (`id`),UNIQUE INDEX `unq_account_name` (`account_id`,`sql_user`,`name`));
CREATE TABLE `moins` (`id` varchar(128) NOT NULL,`name` VARCHAR(255) NOT NULL,`account_name` varchar(128) NOT NULL,`provider` longtext NOT NULL,`provider_id` longtext,`region` longtext NOT NULL,`pty` longtext NOT NULL,`version` longtext,`status` longtext,`qt` longtext,`policy` longtext,`created_by` longtext,`created_at` datetime(3) NULL,PRIMARY KEY (`id`));
CREATE TABLE `operation` (`id` varchar(128) NOT NULL,`created_at` datetime(3) NULL,`statement_id` varchar(128) NOT NULL,`connection_id` bigint unsigned NOT NULL,`db` varchar(128) NOT NULL,`run_status` varchar(64) NOT NULL,`err_msg` text NOT NULL,`rows_affected` bigint,PRIMARY KEY (`id`),INDEX `idx_operation_created_at` (`created_at` asc));
CREATE TABLE `storage_time` (`cluster` varchar(191) NOT NULL,`last_time` datetime(3) NOT NULL,PRIMARY KEY (`cluster`));
CREATE TABLE `storage` (`collecttime` datetime NOT NULL,`value` double NOT NULL,`account` varchar(128) NOT NULL,`interval` int NOT NULL);
INSERT INTO `mo_mo`.`operation` (`id`,`created_at`,`statement_id`,`connection_id`,`db`,`run_status`,`err_msg`,`rows_affected`) VALUES ('fef17f18-d337-4f81-b5f5-3888690ac3a0','2023-07-28 05:01:57.296','',0,'','','',0);
SELECT * FROM (select `statement`,system.statement_info.statement_id,IF(`status`='Running', TIMESTAMPDIFF(MICROSECOND,`request_at`,now())*1000, `duration`) AS `duration`,`status`,`query_type`,`request_at`,system.statement_info.response_at,`user`,`database`,`transaction_id`,`session_id`,`rows_read`,`bytes_scan`,`result_count` from system.statement_info left join mo_catalog.statement_mo ON system.statement_info.statement_id = mo_catalog.statement_mo.statement_id where 1=1 AND `request_at` >= '2023-07-28 04:09:33' AND system.statement_info.statement_id LIKE '%cd%' AND system.statement_info.account = 'c3daefe4_2197_4192_a10e_d0acc5d9da30' AND `user` IN ('ab') AND `session_id` LIKE '%ef%' AND `duration` > 1000000000 AND `statement` LIKE '%show%' ESCAPE '\\\\' )t ORDER BY request_at DESC LIMIT 20;
SQL parser error: table "statement_mo" does not exist
SELECT * FROM `mo_mo`.`moins` WHERE id = 'c3daefe4-2197-4192-a10e-d0acc5d9da30';
âž¤ id[12,-1,0]  Â¦  name[12,-1,0]  Â¦  account_name[12,-1,0]  Â¦  provider[12,0,0]  Â¦  provider_id[12,0,0]  Â¦  region[12,0,0]  Â¦  pty[12,0,0]  Â¦  version[12,0,0]  Â¦  status[12,0,0]  Â¦  qt[12,0,0]  Â¦  policy[12,0,0]  Â¦  created_by[12,0,0]  Â¦  created_at[93,64,0]
SELECT * FROM `mo_mo`.`operation` WHERE `operation`.`id` = 'fef17f18-d337-4f81-b5f5-3888690ac3a0' ORDER BY `operation`.`id` LIMIT 1;
âž¤ id[12,-1,0]  Â¦  created_at[93,64,0]  Â¦  statement_id[12,-1,0]  Â¦  connection_id[-5,64,0]  Â¦  db[12,-1,0]  Â¦  run_status[12,-1,0]  Â¦  err_msg[12,0,0]  Â¦  rows_affected[-5,64,0]  ð„€
fef17f18-d337-4f81-b5f5-3888690ac3a0  Â¦  2023-07-28 05:01:57.296000000  Â¦    Â¦  0  Â¦    Â¦    Â¦    Â¦  0
SELECT `stat_ts`, sum(`stu`) as value FROM(SELECT concat(DATE_FORMAT(date_add(`start_time`,Interval 1 MINUTE),'%Y-%m-%d %H'),':',LPAD(CAST(1 * floor(minute(date_add(`start_time`,Interval 1 MINUTE)) / 1) as int),2,0),':00') AS stat_ts, SUM(`stu`) AS stu FROM mo_mo.stu WHERE `start_time` >= '2023-07-28 03:04:53' AND `start_time` <= '2023-07-28 03:34:53' AND account = '863f0767_0361_4a8c_a3e8_73b2be140a74' GROUP BY concat(DATE_FORMAT(date_add(`start_time`,Interval 1 MINUTE),'%Y-%m-%d %H'),':',LPAD(CAST(1 * floor(minute(date_add(`start_time`,Interval 1 MINUTE)) / 1) as int),2,0),':00') ORDER BY concat(DATE_FORMAT(date_add(`start_time`,Interval 1 MINUTE),'%Y-%m-%d %H'),':',LPAD(CAST(1 * floor(minute(date_add(`start_time`,Interval 1 MINUTE)) / 1) as int),2,0),':00') LIMIT 100)t GROUP BY `stat_ts`;
âž¤ stat_ts[12,-1,0]  Â¦  value[3,38,3]
SELECT attname AS name, mo_show_visible_bin(atttyp,3) AS data_type, replace(mo_table_col_max(att_database,att_relname,attname),'\\0', '') AS `maximum`,  mo_table_col_min(att_database,att_relname,attname) as minimum from mo_catalog.mo_columns where att_database='information_schema' and att_relname='engines' and attname NOT IN  ('__mo_rowid', '__mo_cpkey_col', '__mo_fake_pk_col') ORDER BY attnum;
âž¤ name[12,-1,0]  Â¦  data_type[12,-1,0]  Â¦  maximum[12,-1,0]  Â¦  minimum[12,-1,0]  ð„€
ENGINE  Â¦  VARCHAR(64)  Â¦  null  Â¦  null  ð„€
SUPPORT  Â¦  VARCHAR(8)  Â¦  null  Â¦  null  ð„€
COMMENT  Â¦  VARCHAR(160)  Â¦  null  Â¦  null  ð„€
TRANSACTIONS  Â¦  VARCHAR(3)  Â¦  null  Â¦  null  ð„€
XA  Â¦  VARCHAR(3)  Â¦  null  Â¦  null  ð„€
SAVEPOINTS  Â¦  VARCHAR(3)  Â¦  null  Â¦  null
SELECT attname AS name, mo_show_visible_bin(atttyp,3) AS data_type, replace(mo_table_col_max(att_database,att_relname,attname),'\\0', '') AS `maximum`,  mo_table_col_min(att_database,att_relname,attname) as minimum from mo_catalog.mo_columns where att_database='information_schema' and att_relname='key_column_usage' and attname NOT IN  ('__mo_rowid', '__mo_cpkey_col', '__mo_fake_pk_col') ORDER BY attnum;
âž¤ name[12,-1,0]  Â¦  data_type[12,-1,0]  Â¦  maximum[12,-1,0]  Â¦  minimum[12,-1,0]  ð„€
CONSTRAINT_CATALOG  Â¦  VARCHAR(64)  Â¦  null  Â¦  null  ð„€
CONSTRAINT_SCHEMA  Â¦  VARCHAR(64)  Â¦  null  Â¦  null  ð„€
CONSTRAINT_NAME  Â¦  VARCHAR(64)  Â¦  null  Â¦  null  ð„€
TABLE_CATALOG  Â¦  VARCHAR(64)  Â¦  null  Â¦  null  ð„€
TABLE_SCHEMA  Â¦  VARCHAR(64)  Â¦  null  Â¦  null  ð„€
TABLE_NAME  Â¦  VARCHAR(64)  Â¦  null  Â¦  null  ð„€
COLUMN_NAME  Â¦  VARCHAR(64)  Â¦  null  Â¦  null  ð„€
ORDINAL_POSITION  Â¦  INT UNSIGNED(32)  Â¦  null  Â¦  null  ð„€
POSITION_IN_UNIQUE_CONSTRAINT  Â¦  INT UNSIGNED(32)  Â¦  null  Â¦  null  ð„€
REFERENCED_TABLE_SCHEMA  Â¦  VARCHAR(64)  Â¦  null  Â¦  null  ð„€
REFERENCED_TABLE_NAME  Â¦  VARCHAR(64)  Â¦  null  Â¦  null  ð„€
REFERENCED_COLUMN_NAME  Â¦  VARCHAR(64)  Â¦  null  Â¦  null
SELECT attname AS name, mo_show_visible_bin(atttyp,3) AS data_type, replace(mo_table_col_max(att_database,att_relname,attname),'\\0', '') AS `maximum`,  mo_table_col_min(att_database,att_relname,attname) as minimum from mo_catalog.mo_columns where att_database='information_schema' and att_relname='keywords' and attname NOT IN  ('__mo_rowid', '__mo_cpkey_col', '__mo_fake_pk_col') ORDER BY attnum;
âž¤ name[12,-1,0]  Â¦  data_type[12,-1,0]  Â¦  maximum[12,-1,0]  Â¦  minimum[12,-1,0]  ð„€
WORD  Â¦  VARCHAR(64)  Â¦  null  Â¦  null  ð„€
RESERVED  Â¦  INT UNSIGNED(32)  Â¦  null  Â¦  null
SELECT attname AS name, mo_show_visible_bin(atttyp,3) AS data_type, replace(mo_table_col_max(att_database,att_relname,attname),'\\0', '') AS `maximum`,  mo_table_col_min(att_database,att_relname,attname) as minimum from mo_catalog.mo_columns where att_database='information_schema' and att_relname='parameters' and attname NOT IN  ('__mo_rowid', '__mo_cpkey_col', '__mo_fake_pk_col') ORDER BY attnum;
âž¤ name[12,-1,0]  Â¦  data_type[12,-1,0]  Â¦  maximum[12,-1,0]  Â¦  minimum[12,-1,0]  ð„€
SPECIFIC_CATALOG  Â¦  VARCHAR(64)  Â¦  null  Â¦  null  ð„€
SPECIFIC_SCHEMA  Â¦  VARCHAR(64)  Â¦  null  Â¦  null  ð„€
SPECIFIC_NAME  Â¦  VARCHAR(64)  Â¦  null  Â¦  null  ð„€
ORDINAL_POSITION  Â¦  BIGINT UNSIGNED(64)  Â¦  null  Â¦  null  ð„€
PARAMETER_MODE  Â¦  VARCHAR(5)  Â¦  null  Â¦  null  ð„€
PARAMETER_NAME  Â¦  VARCHAR(64)  Â¦  null  Â¦  null  ð„€
DATA_TYPE  Â¦  TEXT(0)  Â¦  null  Â¦  null  ð„€
CHARACTER_MAXIMUM_LENGTH  Â¦  BIGINT(64)  Â¦  null  Â¦  null  ð„€
CHARACTER_OCTET_LENGTH  Â¦  BIGINT(64)  Â¦  null  Â¦  null  ð„€
NUMERIC_PRECISION  Â¦  INT UNSIGNED(32)  Â¦  null  Â¦  null  ð„€
NUMERIC_SCALE  Â¦  BIGINT(64)  Â¦  null  Â¦  null  ð„€
DATETIME_PRECISION  Â¦  INT UNSIGNED(32)  Â¦  null  Â¦  null  ð„€
CHARACTER_SET_NAME  Â¦  VARCHAR(64)  Â¦  null  Â¦  null  ð„€
COLLATION_NAME  Â¦  VARCHAR(64)  Â¦  null  Â¦  null  ð„€
DTD_IDENTIFIER  Â¦  TEXT(0)  Â¦  null  Â¦  null  ð„€
ROUTINE_TYPE  Â¦  VARCHAR(64)  Â¦  null  Â¦  null
SELECT attname AS name, mo_show_visible_bin(atttyp,3) AS data_type, replace(mo_table_col_max(att_database,att_relname,attname),'\\0', '') AS `maximum`,  mo_table_col_min(att_database,att_relname,attname) as minimum from mo_catalog.mo_columns where att_database='mo_catalog' and att_relname='mo_columns' and attname NOT IN  ('__mo_rowid', '__mo_cpkey_col', '__mo_fake_pk_col') ORDER BY attnum;
invalid input: mo_table_col_max has bad input table mo_columns
SELECT attname AS name, mo_show_visible_bin(atttyp,3) AS data_type, replace(mo_table_col_max(att_database,att_relname,attname),'\\0', '') AS `maximum`,  mo_table_col_min(att_database,att_relname,attname) as minimum from mo_catalog.mo_columns where att_database='mo_sample_data_tpch_sf1' and att_relname='lineitem' and attname NOT IN  ('__mo_rowid', '__mo_cpkey_col', '__mo_fake_pk_col') ORDER BY attnum;
âž¤ name[12,-1,0]  Â¦  data_type[12,-1,0]  Â¦  maximum[12,-1,0]  Â¦  minimum[12,-1,0]
SELECT attname AS name, mo_show_visible_bin(atttyp,3) AS data_type, replace(mo_table_col_max(att_database,att_relname,attname),'\\0', '') AS `maximum`,  mo_table_col_min(att_database,att_relname,attname) as minimum from mo_catalog.mo_columns where att_database='mo_sample_data_tpch_sf1' and att_relname='supplier' and attname NOT IN  ('__mo_rowid', '__mo_cpkey_col', '__mo_fake_pk_col') ORDER BY attnum;
âž¤ name[12,-1,0]  Â¦  data_type[12,-1,0]  Â¦  maximum[12,-1,0]  Â¦  minimum[12,-1,0]
SELECT attname AS name, mo_show_visible_bin(atttyp,3) AS data_type, replace(mo_table_col_max(att_database,att_relname,attname),'\\0', '') AS `maximum`,  mo_table_col_min(att_database,att_relname,attname) as minimum from mo_catalog.mo_columns where att_database='mysql' and att_relname='columns_priv' and attname NOT IN  ('__mo_rowid', '__mo_cpkey_col', '__mo_fake_pk_col') ORDER BY attnum;
âž¤ name[12,-1,0]  Â¦  data_type[12,-1,0]  Â¦  maximum[12,-1,0]  Â¦  minimum[12,-1,0]  ð„€
Host  Â¦  CHAR(255)  Â¦  null  Â¦  null  ð„€
Db  Â¦  CHAR(64)  Â¦  null  Â¦  null  ð„€
User  Â¦  CHAR(32)  Â¦  null  Â¦  null  ð„€
Table_name  Â¦  CHAR(64)  Â¦  null  Â¦  null  ð„€
Column_name  Â¦  CHAR(64)  Â¦  null  Â¦  null  ð„€
Timestamp  Â¦  TIMESTAMP(0)  Â¦  null  Â¦  null  ð„€
Column_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null
SELECT attname AS name, mo_show_visible_bin(atttyp,3) AS data_type, replace(mo_table_col_max(att_database,att_relname,attname),'\\0', '') AS `maximum`,  mo_table_col_min(att_database,att_relname,attname) as minimum from mo_catalog.mo_columns where att_database='mysql' and att_relname='db' and attname NOT IN  ('__mo_rowid', '__mo_cpkey_col', '__mo_fake_pk_col') ORDER BY attnum;
âž¤ name[12,-1,0]  Â¦  data_type[12,-1,0]  Â¦  maximum[12,-1,0]  Â¦  minimum[12,-1,0]  ð„€
Host  Â¦  CHAR(255)  Â¦  null  Â¦  null  ð„€
Db  Â¦  CHAR(64)  Â¦  null  Â¦  null  ð„€
User  Â¦  CHAR(32)  Â¦  null  Â¦  null  ð„€
Select_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Insert_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Update_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Delete_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Create_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Drop_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Grant_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
References_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Index_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Alter_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Create_tmp_table_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Lock_tables_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Create_view_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Show_view_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Create_routine_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Alter_routine_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Execute_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Event_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Trigger_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null
SELECT attname AS name, mo_show_visible_bin(atttyp,3) AS data_type, replace(mo_table_col_max(att_database,att_relname,attname),'\\0', '') AS `maximum`,  mo_table_col_min(att_database,att_relname,attname) as minimum from mo_catalog.mo_columns where att_database='mysql' and att_relname='procs_priv' and attname NOT IN  ('__mo_rowid', '__mo_cpkey_col', '__mo_fake_pk_col') ORDER BY attnum;
âž¤ name[12,-1,0]  Â¦  data_type[12,-1,0]  Â¦  maximum[12,-1,0]  Â¦  minimum[12,-1,0]  ð„€
Host  Â¦  CHAR(255)  Â¦  null  Â¦  null  ð„€
Db  Â¦  CHAR(64)  Â¦  null  Â¦  null  ð„€
User  Â¦  CHAR(32)  Â¦  null  Â¦  null  ð„€
Routine_name  Â¦  CHAR(64)  Â¦  null  Â¦  null  ð„€
Routine_type  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Grantor  Â¦  VARCHAR(288)  Â¦  null  Â¦  null  ð„€
Proc_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Timestamp  Â¦  TIMESTAMP(0)  Â¦  null  Â¦  null
SELECT attname AS name, mo_show_visible_bin(atttyp,3) AS data_type, replace(mo_table_col_max(att_database,att_relname,attname),'\\0', '') AS `maximum`,  mo_table_col_min(att_database,att_relname,attname) as minimum from mo_catalog.mo_columns where att_database='mysql' and att_relname='tables_priv' and attname NOT IN  ('__mo_rowid', '__mo_cpkey_col', '__mo_fake_pk_col') ORDER BY attnum;
âž¤ name[12,-1,0]  Â¦  data_type[12,-1,0]  Â¦  maximum[12,-1,0]  Â¦  minimum[12,-1,0]  ð„€
Host  Â¦  CHAR(255)  Â¦  null  Â¦  null  ð„€
Db  Â¦  CHAR(64)  Â¦  null  Â¦  null  ð„€
User  Â¦  CHAR(32)  Â¦  null  Â¦  null  ð„€
Table_name  Â¦  CHAR(64)  Â¦  null  Â¦  null  ð„€
Grantor  Â¦  VARCHAR(288)  Â¦  null  Â¦  null  ð„€
Timestamp  Â¦  TIMESTAMP(0)  Â¦  null  Â¦  null  ð„€
Table_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Column_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null
SELECT attname AS name, mo_show_visible_bin(atttyp,3) AS data_type, replace(mo_table_col_max(att_database,att_relname,attname),'\\0', '') AS `maximum`,  mo_table_col_min(att_database,att_relname,attname) as minimum from mo_catalog.mo_columns where att_database='mysql' and att_relname='user' and attname NOT IN  ('__mo_rowid', '__mo_cpkey_col', '__mo_fake_pk_col') ORDER BY attnum;
âž¤ name[12,-1,0]  Â¦  data_type[12,-1,0]  Â¦  maximum[12,-1,0]  Â¦  minimum[12,-1,0]  ð„€
Host  Â¦  CHAR(255)  Â¦  null  Â¦  null  ð„€
User  Â¦  CHAR(32)  Â¦  null  Â¦  null  ð„€
Select_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Insert_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Update_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Delete_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Create_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Drop_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Reload_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Shutdown_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Process_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
File_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Grant_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
References_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Index_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Alter_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Show_db_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Super_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Create_tmp_table_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Lock_tables_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Execute_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Repl_slave_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Repl_client_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Create_view_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Show_view_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Create_routine_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Alter_routine_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Create_user_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Event_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Trigger_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Create_tablespace_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
ssl_type  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
ssl_cipher  Â¦  BLOB(0)  Â¦  null  Â¦  null  ð„€
x509_issuer  Â¦  BLOB(0)  Â¦  null  Â¦  null  ð„€
x509_subject  Â¦  BLOB(0)  Â¦  null  Â¦  null  ð„€
max_questions  Â¦  INT UNSIGNED(32)  Â¦  null  Â¦  null  ð„€
max_updates  Â¦  INT UNSIGNED(32)  Â¦  null  Â¦  null  ð„€
max_connections  Â¦  INT UNSIGNED(32)  Â¦  null  Â¦  null  ð„€
max_user_connections  Â¦  INT UNSIGNED(32)  Â¦  null  Â¦  null  ð„€
plugin  Â¦  CHAR(64)  Â¦  null  Â¦  null  ð„€
authentication_string  Â¦  TEXT(0)  Â¦  null  Â¦  null  ð„€
password_expired  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
password_last_changed  Â¦  TIMESTAMP(0)  Â¦  null  Â¦  null  ð„€
password_lifetime  Â¦  SMALLINT UNSIGNED(16)  Â¦  null  Â¦  null  ð„€
account_locked  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Create_role_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Drop_role_priv  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
Password_reuse_history  Â¦  SMALLINT UNSIGNED(16)  Â¦  null  Â¦  null  ð„€
Password_reuse_time  Â¦  SMALLINT UNSIGNED(16)  Â¦  null  Â¦  null  ð„€
Password_require_current  Â¦  VARCHAR(10)  Â¦  null  Â¦  null  ð„€
User_attributes  Â¦  JSON(0)  Â¦  null  Â¦  null
SELECT attname AS name, mo_show_visible_bin(atttyp,3) AS data_type, replace(mo_table_col_max(att_database,att_relname,attname),'\\0', '') AS `maximum`,  mo_table_col_min(att_database,att_relname,attname) as minimum from mo_catalog.mo_columns where att_database='system_metrics' and att_relname='metric' and attname NOT IN  ('__mo_rowid', '__mo_cpkey_col', '__mo_fake_pk_col') ORDER BY attnum;
âž¤ name[12,-1,0]  Â¦  data_type[12,-1,0]  Â¦  maximum[12,-1,0]  Â¦  minimum[12,-1,0]  ð„€
metric_name  Â¦  VARCHAR(1024)  Â¦  null  Â¦  null  ð„€
collecttime  Â¦  DATETIME(6)  Â¦  null  Â¦  null  ð„€
value  Â¦  DOUBLE(0)  Â¦  null  Â¦  null  ð„€
node  Â¦  VARCHAR(1024)  Â¦  null  Â¦  null  ð„€
role  Â¦  VARCHAR(1024)  Â¦  null  Â¦  null  ð„€
account  Â¦  VARCHAR(1024)  Â¦  null  Â¦  null  ð„€
account_id  Â¦  INT UNSIGNED(32)  Â¦  null  Â¦  null  ð„€
type  Â¦  VARCHAR(1024)  Â¦  null  Â¦  null  ð„€
__mo_cbkey_011collecttime010account_id011metric_name  Â¦  VARCHAR(65535)  Â¦  null  Â¦  null
SELECT concat(DATE_FORMAT(date_add(`request_at`,Interval 1 MINUTE),'%Y-%m-%d %H'),':',LPAD(CAST(1 * floor(minute(date_add(`request_at`,Interval 1 MINUTE)) / 1) as int),2,0),':00') AS stat_ts, AVG(duration) AS value, `query_type` AS type FROM `system`.`statement_info` WHERE request_at >= '2023-07-28 04:20:43' AND request_at <= '2023-07-28 04:50:43' AND `query_type` in ('DQL','DDL','DML','DCL','TCL','Other') GROUP BY `query_type`, concat(DATE_FORMAT(date_add(`request_at`,Interval 1 MINUTE),'%Y-%m-%d %H'),':',LPAD(CAST(1 * floor(minute(date_add(`request_at`,Interval 1 MINUTE)) / 1) as int),2,0),':00') ORDER BY concat(DATE_FORMAT(date_add(`request_at`,Interval 1 MINUTE),'%Y-%m-%d %H'),':',LPAD(CAST(1 * floor(minute(date_add(`request_at`,Interval 1 MINUTE)) / 1) as int),2,0),':00')LIMIT 100;
âž¤ stat_ts[12,-1,0]  Â¦  value[8,54,0]  Â¦  type[12,-1,0]
SELECT count(*) FROM (select `statement`,system.statement_info.statement_id,IF(`status`='Running', TIMESTAMPDIFF(MICROSECOND,`request_at`,now())*1000, `duration`) AS `duration`,`status`,`query_type`,`request_at`,system.statement_info.response_at,`user`,`database`,`transaction_id`,`session_id`,`rows_read`,`bytes_scan`,`result_count` from system.statement_info left join mo_catalog.statement_mo ON system.statement_info.statement_id = mo_catalog.statement_mo.statement_id where 1=1 AND `request_at` >= '2023-07-28 04:09:33' AND system.statement_info.statement_id LIKE '%cd%' AND system.statement_info.account = 'c3daefe4_2197_4192_a10e_d0acc5d9da30' AND `user` IN ('ab') AND `session_id` LIKE '%ef%' AND `duration` > 1000000000 AND `statement` LIKE '%show%' ESCAPE '\\\\' )t;
SQL parser error: table "statement_mo" does not exist
SELECT count(*) FROM `mo_catalog`.`mo_database`;
âž¤ count(*)[-5,64,0]  ð„€
6
SELECT count(*) FROM `system`.`statement_info` WHERE 1=1 AND `request_at` >= '2023-07-28 03:03:28' AND system.statement_info.account = '91731e77_49ea_4a8a_b1c7_d5512c7ae96e' AND sql_source_type IN ('ab','external_sql') ;
âž¤ count(*)[-5,64,0]  ð„€
0
SHOW CREATE TABLE information_schema.engines;
âž¤ Table[12,-1,0]  Â¦  Create Table[12,-1,0]  ð„€
engines  Â¦  CREATE TABLE `engines` (
  `ENGINE` varchar(64) DEFAULT NULL,
  `SUPPORT` varchar(8) DEFAULT NULL,
  `COMMENT` varchar(160) DEFAULT NULL,
  `TRANSACTIONS` varchar(3) DEFAULT NULL,
  `XA` varchar(3) DEFAULT NULL,
  `SAVEPOINTS` varchar(3) DEFAULT NULL
)
SHOW CREATE TABLE information_schema.key_column_usage;
âž¤ Table[12,-1,0]  Â¦  Create Table[12,-1,0]  ð„€
key_column_usage  Â¦  CREATE TABLE `key_column_usage` (
  `CONSTRAINT_CATALOG` varchar(64) DEFAULT NULL,
  `CONSTRAINT_SCHEMA` varchar(64) DEFAULT NULL,
  `CONSTRAINT_NAME` varchar(64) DEFAULT NULL,
  `TABLE_CATALOG` varchar(64) DEFAULT NULL,
  `TABLE_SCHEMA` varchar(64) DEFAULT NULL,
  `TABLE_NAME` varchar(64) DEFAULT NULL,
  `COLUMN_NAME` varchar(64) DEFAULT NULL,
  `ORDINAL_POSITION` int unsigned DEFAULT NULL,
  `POSITION_IN_UNIQUE_CONSTRAINT` int unsigned DEFAULT NULL,
  `REFERENCED_TABLE_SCHEMA` varchar(64) DEFAULT NULL,
  `REFERENCED_TABLE_NAME` varchar(64) DEFAULT NULL,
  `REFERENCED_COLUMN_NAME` varchar(64) DEFAULT NULL
)
SHOW CREATE TABLE information_schema.keywords;
âž¤ Table[12,-1,0]  Â¦  Create Table[12,-1,0]  ð„€
keywords  Â¦  CREATE TABLE `keywords` (
  `WORD` varchar(64) DEFAULT NULL,
  `RESERVED` int unsigned DEFAULT NULL
)
SHOW CREATE TABLE information_schema.parameters;
âž¤ Table[12,-1,0]  Â¦  Create Table[12,-1,0]  ð„€
parameters  Â¦  CREATE TABLE `parameters` (
  `SPECIFIC_CATALOG` varchar(64) DEFAULT NULL,
  `SPECIFIC_SCHEMA` varchar(64) DEFAULT NULL,
  `SPECIFIC_NAME` varchar(64) DEFAULT NULL,
  `ORDINAL_POSITION` bigint unsigned DEFAULT NULL,
  `PARAMETER_MODE` varchar(5) DEFAULT NULL,
  `PARAMETER_NAME` varchar(64) DEFAULT NULL,
  `DATA_TYPE` text DEFAULT NULL,
  `CHARACTER_MAXIMUM_LENGTH` bigint DEFAULT NULL,
  `CHARACTER_OCTET_LENGTH` bigint DEFAULT NULL,
  `NUMERIC_PRECISION` int unsigned DEFAULT NULL,
  `NUMERIC_SCALE` bigint DEFAULT NULL,
  `DATETIME_PRECISION` int unsigned DEFAULT NULL,
  `CHARACTER_SET_NAME` varchar(64) DEFAULT NULL,
  `COLLATION_NAME` varchar(64) DEFAULT NULL,
  `DTD_IDENTIFIER` text DEFAULT NULL,
  `ROUTINE_TYPE` varchar(64) DEFAULT NULL
)
SHOW CREATE TABLE mo_catalog.mo_columns;
âž¤ Table[12,-1,0]  Â¦  Create Table[12,-1,0]  ð„€
mo_columns  Â¦  CREATE TABLE `mo_columns` (
  `att_uniq_name` varchar(256) DEFAULT NULL,
  `account_id` int unsigned DEFAULT NULL,
  `att_database_id` bigint unsigned DEFAULT NULL,
  `att_database` varchar(256) DEFAULT NULL,
  `att_relname_id` bigint unsigned DEFAULT NULL,
  `att_relname` varchar(256) DEFAULT NULL,
  `attname` varchar(256) DEFAULT NULL,
  `atttyp` varchar(256) DEFAULT NULL,
  `attnum` int DEFAULT NULL,
  `att_length` int DEFAULT NULL,
  `attnotnull` tinyint DEFAULT NULL,
  `atthasdef` tinyint DEFAULT NULL,
  `att_default` varchar(2048) DEFAULT NULL,
  `attisdropped` tinyint DEFAULT NULL,
  `att_constraint_type` char(1) DEFAULT NULL,
  `att_is_unsigned` tinyint DEFAULT NULL,
  `att_is_auto_increment` tinyint DEFAULT NULL,
  `att_comment` varchar(2048) DEFAULT NULL,
  `att_is_hidden` tinyint DEFAULT NULL,
  `attr_has_update` tinyint DEFAULT NULL,
  `attr_update` varchar(2048) DEFAULT NULL,
  `attr_is_clusterby` tinyint DEFAULT NULL,
  `attr_seqnum` smallint unsigned DEFAULT NULL,
  `attr_enum` varchar(65535) DEFAULT NULL,
  PRIMARY KEY (`account_id`,`att_database`,`att_relname`,`attname`)
)
SHOW CREATE TABLE mo_sample_data_tpch_sf1.lineitem;
Unknown database mo_sample_data_tpch_sf1
SHOW CREATE TABLE mo_sample_data_tpch_sf1.supplier;
Unknown database mo_sample_data_tpch_sf1
SHOW CREATE TABLE mysql.columns_priv;
âž¤ Table[12,-1,0]  Â¦  Create Table[12,-1,0]  ð„€
columns_priv  Â¦  CREATE TABLE `columns_priv` (
  `Host` char(255) NOT NULL DEFAULT '',
  `Db` char(64) NOT NULL DEFAULT '',
  `User` char(32) NOT NULL DEFAULT '',
  `Table_name` char(64) NOT NULL DEFAULT '',
  `Column_name` char(64) NOT NULL DEFAULT '',
  `Timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP() ON UPDATE CURRENT_TIMESTAMP(),
  `Column_priv` varchar(10) NOT NULL DEFAULT '',
  PRIMARY KEY (`Host`,`Db`,`User`,`Table_name`,`Column_name`)
)
SHOW CREATE TABLE mysql.db;
âž¤ Table[12,-1,0]  Â¦  Create Table[12,-1,0]  ð„€
db  Â¦  CREATE TABLE `db` (
  `Host` char(255) NOT NULL DEFAULT '',
  `Db` char(64) NOT NULL DEFAULT '',
  `User` char(32) NOT NULL DEFAULT '',
  `Select_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Insert_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Update_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Delete_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Create_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Drop_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Grant_priv` varchar(10) NOT NULL DEFAULT 'N',
  `References_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Index_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Alter_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Create_tmp_table_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Lock_tables_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Create_view_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Show_view_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Create_routine_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Alter_routine_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Execute_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Event_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Trigger_priv` varchar(10) NOT NULL DEFAULT 'N',
  PRIMARY KEY (`Host`,`Db`,`User`),
  KEY `user` (`User`)
)
SHOW CREATE TABLE mysql.procs_priv;
âž¤ Table[12,-1,0]  Â¦  Create Table[12,-1,0]  ð„€
procs_priv  Â¦  CREATE TABLE `procs_priv` (
  `Host` char(255) NOT NULL DEFAULT '',
  `Db` char(64) NOT NULL DEFAULT '',
  `User` char(32) NOT NULL DEFAULT '',
  `Routine_name` char(64) NOT NULL DEFAULT '',
  `Routine_type` varchar(10) NOT NULL,
  `Grantor` varchar(288) NOT NULL DEFAULT '',
  `Proc_priv` varchar(10) NOT NULL DEFAULT '',
  `Timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP() ON UPDATE CURRENT_TIMESTAMP(),
  PRIMARY KEY (`Host`,`Db`,`User`,`Routine_name`,`Routine_type`),
  KEY `grantor` (`Grantor`)
)
SHOW CREATE TABLE mysql.tables_priv;
âž¤ Table[12,-1,0]  Â¦  Create Table[12,-1,0]  ð„€
tables_priv  Â¦  CREATE TABLE `tables_priv` (
  `Host` char(255) NOT NULL DEFAULT '',
  `Db` char(64) NOT NULL DEFAULT '',
  `User` char(32) NOT NULL DEFAULT '',
  `Table_name` char(64) NOT NULL DEFAULT '',
  `Grantor` varchar(288) NOT NULL DEFAULT '',
  `Timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP() ON UPDATE CURRENT_TIMESTAMP(),
  `Table_priv` varchar(10) NOT NULL DEFAULT '',
  `Column_priv` varchar(10) NOT NULL DEFAULT '',
  PRIMARY KEY (`Host`,`Db`,`User`,`Table_name`),
  KEY `grantor` (`Grantor`)
)
SHOW CREATE TABLE mysql.user;
âž¤ Table[12,-1,0]  Â¦  Create Table[12,-1,0]  ð„€
user  Â¦  CREATE TABLE `user` (
  `Host` char(255) NOT NULL DEFAULT '',
  `User` char(32) NOT NULL DEFAULT '',
  `Select_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Insert_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Update_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Delete_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Create_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Drop_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Reload_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Shutdown_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Process_priv` varchar(10) NOT NULL DEFAULT 'N',
  `File_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Grant_priv` varchar(10) NOT NULL DEFAULT 'N',
  `References_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Index_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Alter_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Show_db_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Super_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Create_tmp_table_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Lock_tables_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Execute_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Repl_slave_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Repl_client_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Create_view_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Show_view_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Create_routine_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Alter_routine_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Create_user_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Event_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Trigger_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Create_tablespace_priv` varchar(10) NOT NULL DEFAULT 'N',
  `ssl_type` varchar(10) NOT NULL DEFAULT '',
  `ssl_cipher` blob NOT NULL,
  `x509_issuer` blob NOT NULL,
  `x509_subject` blob NOT NULL,
  `max_questions` int unsigned NOT NULL DEFAULT '0',
  `max_updates` int unsigned NOT NULL DEFAULT '0',
  `max_connections` int unsigned NOT NULL DEFAULT '0',
  `max_user_connections` int unsigned NOT NULL DEFAULT '0',
  `plugin` char(64) NOT NULL DEFAULT 'caching_sha2_password',
  `authentication_string` text DEFAULT NULL,
  `password_expired` varchar(10) NOT NULL DEFAULT 'N',
  `password_last_changed` timestamp NULL DEFAULT NULL,
  `password_lifetime` smallint unsigned DEFAULT NULL,
  `account_locked` varchar(10) NOT NULL DEFAULT 'N',
  `Create_role_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Drop_role_priv` varchar(10) NOT NULL DEFAULT 'N',
  `Password_reuse_history` smallint unsigned DEFAULT NULL,
  `Password_reuse_time` smallint unsigned DEFAULT NULL,
  `Password_require_current` varchar(10) DEFAULT NULL,
  `User_attributes` json DEFAULT NULL,
  PRIMARY KEY (`Host`,`User`)
)
SHOW CREATE TABLE system_metrics.metric;
âž¤ Table[12,-1,0]  Â¦  Create Table[12,-1,0]  ð„€
metric  Â¦  CREATE TABLE `metric` (
  `metric_name` varchar(1024) DEFAULT 'sys' COMMENT 'metric name, like: sql_statement_total, server_connections, process_cpu_percent, sys_memory_used, ...',
  `collecttime` datetime(6) NOT NULL COMMENT 'metric data collect time',
  `value` double DEFAULT '0.0' COMMENT 'metric value',
  `node` varchar(1024) DEFAULT 'monolithic' COMMENT 'mo node uuid',
  `role` varchar(1024) DEFAULT 'monolithic' COMMENT 'mo node role, like: CN, DN, LOG',
  `account` varchar(1024) DEFAULT 'sys' COMMENT 'account name',
  `account_id` int unsigned DEFAULT '0' COMMENT 'account id',
  `type` varchar(1024) NOT NULL COMMENT 'sql type, like: insert, select, ...'
) COMMENT='metric data' CLUSTER BY (`collecttime`, `account_id`, `metric_name`)
SHOW CREATE TABLE system_metrics.server_connections;
âž¤ View[12,-1,0]  Â¦  Create View[12,-1,0]  Â¦  character_set_client[12,-1,0]  Â¦  collation_connection[12,-1,0]  ð„€
server_connections  Â¦  CREATE VIEW IF NOT EXISTS `system_metrics`.`server_connections` as select `collecttime`, `value`, `node`, `role`, `account`, `account_id` from `system_metrics`.`metric` where `metric_name` = "server_connections"  Â¦  utf8mb4  Â¦  utf8mb4_general_ci
SHOW CREATE TABLE system_metrics.server_storage_usage;
âž¤ View[12,-1,0]  Â¦  Create View[12,-1,0]  Â¦  character_set_client[12,-1,0]  Â¦  collation_connection[12,-1,0]  ð„€
server_storage_usage  Â¦  CREATE VIEW IF NOT EXISTS `system_metrics`.`server_storage_usage` as select `collecttime`, `value`, `node`, `role`, `account`, `account_id` from `system_metrics`.`metric` where `metric_name` = "server_storage_usage"  Â¦  utf8mb4  Â¦  utf8mb4_general_ci
SHOW CREATE TABLE system_metrics.sql_statement_errors;
âž¤ View[12,-1,0]  Â¦  Create View[12,-1,0]  Â¦  character_set_client[12,-1,0]  Â¦  collation_connection[12,-1,0]  ð„€
sql_statement_errors  Â¦  CREATE VIEW IF NOT EXISTS `system_metrics`.`sql_statement_errors` as select `collecttime`, `value`, `node`, `role`, `account`, `account_id`, `type` from `system_metrics`.`metric` where `metric_name` = "sql_statement_errors"  Â¦  utf8mb4  Â¦  utf8mb4_general_ci
SHOW CREATE TABLE system_metrics.sql_transaction_total;
âž¤ View[12,-1,0]  Â¦  Create View[12,-1,0]  Â¦  character_set_client[12,-1,0]  Â¦  collation_connection[12,-1,0]  ð„€
sql_transaction_total  Â¦  CREATE VIEW IF NOT EXISTS `system_metrics`.`sql_transaction_total` as select `collecttime`, `value`, `node`, `role`, `account`, `account_id` from `system_metrics`.`metric` where `metric_name` = "sql_transaction_total"  Â¦  utf8mb4  Â¦  utf8mb4_general_ci
SHOW GLOBAL VARIABLES LIKE 'save_query_result';
âž¤ Variable_name[12,0,0]  Â¦  Value[12,0,0]  ð„€
save_query_result  Â¦  off
SHOW SUBSCRIPTIONS;
âž¤ pub_name[12,0,0]  Â¦  pub_account[12,0,0]  Â¦  pub_database[12,0,0]  Â¦  pub_tables[1111,0,0]  Â¦  pub_comment[1111,0,0]  Â¦  pub_time[93,0,0]  Â¦  sub_name[12,0,0]  Â¦  sub_time[93,0,0]  Â¦  status[-6,0,0]
SHOW TABLES FROM mo_sample_data_tpch_sf1;
Unknown database mo_sample_data_tpch_sf1
UPDATE `mo_mo`.`operation` SET `created_at`='2023-07-28 05:00:13.704',`statement_id`='a3055a4e-2d03-11ee-9e81-96ce077ba0f3',`connection_id`=11349,`db`='mo_sample_data_tpch_sf10',`run_status`='success' WHERE `id` = '3b30a3c1-4dca-4ded-9576-51a99e47b53a';
drop table if exists `mo_catalog`.`statement_mo`;
internal error: do not have privilege to execute the statement
drop table if exists `statement_time`;
drop table if exists `stu`;
drop table if exists `mo_mo`.`wb_version`;
drop table if exists `mo_mo`.`wb`;
drop table if exists `moins`;
drop table if exists `operation`;
drop table if exists `storage_time`;
drop table if exists `storage`;
USE system_metrics;
SELECT `stat_ts`, SUM(`value`) as value, `type` FROM(SELECT concat(DATE_FORMAT(date_add(`collecttime`,Interval 1 MINUTE),'%Y-%m-%d %H'),':',LPAD(CAST(1 * floor(minute(date_add(`collecttime`,Interval 1 MINUTE)) / 1) as int),2,0),':00') AS stat_ts, AVG(`value`)/15 AS value, `node`, `type` FROM sql_statement_total WHERE `collecttime` >= '2023-07-28 05:37:43' AND `collecttime` <= '2023-07-28 06:07:43' AND `type` in ('DQL','DDL','DML','DCL','TCL','Other') GROUP BY `node`,`type`, concat(DATE_FORMAT(date_add(`collecttime`,Interval 1 MINUTE),'%Y-%m-%d %H'),':',LPAD(CAST(1 * floor(minute(date_add(`collecttime`,Interval 1 MINUTE)) / 1) as int),2,0),':00')  ORDER BY concat(DATE_FORMAT(date_add(`collecttime`,Interval 1 MINUTE),'%Y-%m-%d %H'),':',LPAD(CAST(1 * floor(minute(date_add(`collecttime`,Interval 1 MINUTE)) / 1) as int),2,0),':00') LIMIT 100)t GROUP BY `stat_ts`,`type`;
âž¤ stat_ts[12,-1,0]  Â¦  value[8,54,0]  Â¦  type[12,-1,0]
USE system_metrics;
SELECT `stat_ts`, SUM(`value`) as value, `type` FROM(SELECT concat(DATE_FORMAT(date_add(`collecttime`,Interval 1 MINUTE),'%Y-%m-%d %H'),':',LPAD(CAST(1 * floor(minute(date_add(`collecttime`,Interval 1 MINUTE)) / 1) as int),2,0),':00') AS stat_ts, SUM(`value`) AS value, `node`, `type` FROM sql_statement_errors WHERE `collecttime` >= '2023-07-28 05:37:43' AND `collecttime` <= '2023-07-28 06:07:43' AND `type` in ('DQL','DDL','DML','DCL','TCL','Other') GROUP BY `node`,`type`, concat(DATE_FORMAT(date_add(`collecttime`,Interval 1 MINUTE),'%Y-%m-%d %H'),':',LPAD(CAST(1 * floor(minute(date_add(`collecttime`,Interval 1 MINUTE)) / 1) as int),2,0),':00')  ORDER BY concat(DATE_FORMAT(date_add(`collecttime`,Interval 1 MINUTE),'%Y-%m-%d %H'),':',LPAD(CAST(1 * floor(minute(date_add(`collecttime`,Interval 1 MINUTE)) / 1) as int),2,0),':00') LIMIT 100)t GROUP BY `stat_ts`,`type`;
âž¤ stat_ts[12,-1,0]  Â¦  value[8,54,0]  Â¦  type[12,-1,0]
USE system_metrics;
SELECT `stat_ts`, SUM(`value`) as value, `type` FROM(SELECT concat(DATE_FORMAT(date_add(`collecttime`,Interval 1 MINUTE),'%Y-%m-%d %H'),':',LPAD(CAST(1 * floor(minute(date_add(`collecttime`,Interval 1 MINUTE)) / 1) as int),2,0),':00') AS stat_ts, SUM(`value`) AS value, `node`, `type` FROM sql_statement_total WHERE `collecttime` >= '2023-07-28 05:37:43' AND `collecttime` <= '2023-07-28 06:07:43' AND `type` in ('DQL','DDL','DML','DCL','TCL','Other') GROUP BY `node`,`type`, concat(DATE_FORMAT(date_add(`collecttime`,Interval 1 MINUTE),'%Y-%m-%d %H'),':',LPAD(CAST(1 * floor(minute(date_add(`collecttime`,Interval 1 MINUTE)) / 1) as int),2,0),':00')  ORDER BY concat(DATE_FORMAT(date_add(`collecttime`,Interval 1 MINUTE),'%Y-%m-%d %H'),':',LPAD(CAST(1 * floor(minute(date_add(`collecttime`,Interval 1 MINUTE)) / 1) as int),2,0),':00') LIMIT 100)t GROUP BY `stat_ts`,`type`;
âž¤ stat_ts[12,-1,0]  Â¦  value[8,54,0]  Â¦  type[12,-1,0]
USE system_metrics;
SELECT `stat_ts`, sum(`value`) as value FROM(SELECT concat(DATE_FORMAT(date_add(`collecttime`,Interval 1 MINUTE),'%Y-%m-%d %H'),':',LPAD(CAST(1 * floor(minute(date_add(`collecttime`,Interval 1 MINUTE)) / 1) as int),2,0),':00') AS stat_ts, AVG(`value`) AS value, `node` FROM server_connections WHERE `collecttime` >= '2023-07-28 03:23:31' AND `collecttime` <= '2023-07-28 03:53:31' AND account = '2ef38bf3_b821_4cab_879e_3b788f1e922f'GROUP BY `node`, concat(DATE_FORMAT(date_add(`collecttime`,Interval 1 MINUTE),'%Y-%m-%d %H'),':',LPAD(CAST(1 * floor(minute(date_add(`collecttime`,Interval 1 MINUTE)) / 1) as int),2,0),':00')  ORDER BY concat(DATE_FORMAT(date_add(`collecttime`,Interval 1 MINUTE),'%Y-%m-%d %H'),':',LPAD(CAST(1 * floor(minute(date_add(`collecttime`,Interval 1 MINUTE)) / 1) as int),2,0),':00') LIMIT 100)t GROUP BY `stat_ts`;
âž¤ stat_ts[12,-1,0]  Â¦  value[8,54,0]
USE system_metrics;
SELECT `stat_ts`, sum(`value`) as value FROM(SELECT concat(DATE_FORMAT(date_add(`collecttime`,Interval 1 MINUTE),'%Y-%m-%d %H'),':',LPAD(CAST(1 * floor(minute(date_add(`collecttime`,Interval 1 MINUTE)) / 1) as int),2,0),':00') AS stat_ts, AVG(`value`) AS value, `node` FROM server_storage_usage WHERE `collecttime` >= '2023-07-28 05:36:55' AND `collecttime` <= '2023-07-28 06:06:55' AND account = 'c3daefe4_2197_4192_a10e_d0acc5d9da30'GROUP BY `node`, concat(DATE_FORMAT(date_add(`collecttime`,Interval 1 MINUTE),'%Y-%m-%d %H'),':',LPAD(CAST(1 * floor(minute(date_add(`collecttime`,Interval 1 MINUTE)) / 1) as int),2,0),':00')  ORDER BY concat(DATE_FORMAT(date_add(`collecttime`,Interval 1 MINUTE),'%Y-%m-%d %H'),':',LPAD(CAST(1 * floor(minute(date_add(`collecttime`,Interval 1 MINUTE)) / 1) as int),2,0),':00') LIMIT 100)t GROUP BY `stat_ts`;
âž¤ stat_ts[12,-1,0]  Â¦  value[8,54,0]
USE system_metrics;
SELECT `stat_ts`, sum(`value`) as value FROM(SELECT concat(DATE_FORMAT(date_add(`collecttime`,Interval 1 MINUTE),'%Y-%m-%d %H'),':',LPAD(CAST(1 * floor(minute(date_add(`collecttime`,Interval 1 MINUTE)) / 1) as int),2,0),':00') AS stat_ts, SUM(`value`) AS value, `node` FROM sql_transaction_errors WHERE `collecttime` >= '2023-07-28 05:37:43' AND `collecttime` <= '2023-07-28 06:07:43' GROUP BY `node`, concat(DATE_FORMAT(date_add(`collecttime`,Interval 1 MINUTE),'%Y-%m-%d %H'),':',LPAD(CAST(1 * floor(minute(date_add(`collecttime`,Interval 1 MINUTE)) / 1) as int),2,0),':00')  ORDER BY concat(DATE_FORMAT(date_add(`collecttime`,Interval 1 MINUTE),'%Y-%m-%d %H'),':',LPAD(CAST(1 * floor(minute(date_add(`collecttime`,Interval 1 MINUTE)) / 1) as int),2,0),':00') LIMIT 100)t GROUP BY `stat_ts`;
âž¤ stat_ts[12,-1,0]  Â¦  value[8,54,0]
USE system_metrics;
SELECT `stat_ts`, sum(`value`) as value FROM(SELECT concat(DATE_FORMAT(date_add(`collecttime`,Interval 1 MINUTE),'%Y-%m-%d %H'),':',LPAD(CAST(1 * floor(minute(date_add(`collecttime`,Interval 1 MINUTE)) / 1) as int),2,0),':00') AS stat_ts, SUM(`value`) AS value, `node` FROM sql_transaction_total WHERE `collecttime` >= '2023-07-28 05:37:43' AND `collecttime` <= '2023-07-28 06:07:43' GROUP BY `node`, concat(DATE_FORMAT(date_add(`collecttime`,Interval 1 MINUTE),'%Y-%m-%d %H'),':',LPAD(CAST(1 * floor(minute(date_add(`collecttime`,Interval 1 MINUTE)) / 1) as int),2,0),':00')  ORDER BY concat(DATE_FORMAT(date_add(`collecttime`,Interval 1 MINUTE),'%Y-%m-%d %H'),':',LPAD(CAST(1 * floor(minute(date_add(`collecttime`,Interval 1 MINUTE)) / 1) as int),2,0),':00') LIMIT 100)t GROUP BY `stat_ts`;
âž¤ stat_ts[12,-1,0]  Â¦  value[8,54,0]
select count(*) from mo_catalog.mo_tables where reldatabase = 'mo_mo' and relname = 'operation' and relkind = 'r';
âž¤ count(*)[-5,64,0]  ð„€
0
select count(*) from mo_catalog.mo_tables where reldatabase = 'mo_mo' and relname = 'wb' and relkind = 'r';
âž¤ count(*)[-5,64,0]  ð„€
0
DESC `information_schema`.`character_sets` ;
âž¤ Field[1,0,0]  Â¦  Type[1,0,0]  Â¦  Null[1,0,0]  Â¦  Key[1,0,0]  Â¦  Default[1,0,0]  Â¦  Extra[1,0,0]  Â¦  Comment[1,0,0]  ð„€
CHARACTER_SET_NAME  Â¦  VARCHAR(64)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
DEFAULT_COLLATE_NAME  Â¦  VARCHAR(64)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
DESCRIPTION  Â¦  VARCHAR(2048)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
MAXLEN  Â¦  INT UNSIGNED(32)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦  
DESC `information_schema`.`engines` ;
âž¤ Field[1,0,0]  Â¦  Type[1,0,0]  Â¦  Null[1,0,0]  Â¦  Key[1,0,0]  Â¦  Default[1,0,0]  Â¦  Extra[1,0,0]  Â¦  Comment[1,0,0]  ð„€
ENGINE  Â¦  VARCHAR(64)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
SUPPORT  Â¦  VARCHAR(8)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
COMMENT  Â¦  VARCHAR(160)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
TRANSACTIONS  Â¦  VARCHAR(3)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
XA  Â¦  VARCHAR(3)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
SAVEPOINTS  Â¦  VARCHAR(3)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦  
DESC `information_schema`.`key_column_usage` ;
âž¤ Field[1,0,0]  Â¦  Type[1,0,0]  Â¦  Null[1,0,0]  Â¦  Key[1,0,0]  Â¦  Default[1,0,0]  Â¦  Extra[1,0,0]  Â¦  Comment[1,0,0]  ð„€
CONSTRAINT_CATALOG  Â¦  VARCHAR(64)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
CONSTRAINT_SCHEMA  Â¦  VARCHAR(64)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
CONSTRAINT_NAME  Â¦  VARCHAR(64)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
TABLE_CATALOG  Â¦  VARCHAR(64)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
TABLE_SCHEMA  Â¦  VARCHAR(64)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
TABLE_NAME  Â¦  VARCHAR(64)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
COLUMN_NAME  Â¦  VARCHAR(64)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
ORDINAL_POSITION  Â¦  INT UNSIGNED(32)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
POSITION_IN_UNIQUE_CONSTRAINT  Â¦  INT UNSIGNED(32)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
REFERENCED_TABLE_SCHEMA  Â¦  VARCHAR(64)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
REFERENCED_TABLE_NAME  Â¦  VARCHAR(64)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
REFERENCED_COLUMN_NAME  Â¦  VARCHAR(64)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦  
DESC `information_schema`.`keywords` ;
âž¤ Field[1,0,0]  Â¦  Type[1,0,0]  Â¦  Null[1,0,0]  Â¦  Key[1,0,0]  Â¦  Default[1,0,0]  Â¦  Extra[1,0,0]  Â¦  Comment[1,0,0]  ð„€
WORD  Â¦  VARCHAR(64)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
RESERVED  Â¦  INT UNSIGNED(32)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦  
DESC `information_schema`.`parameters` ;
âž¤ Field[1,0,0]  Â¦  Type[1,0,0]  Â¦  Null[1,0,0]  Â¦  Key[1,0,0]  Â¦  Default[1,0,0]  Â¦  Extra[1,0,0]  Â¦  Comment[1,0,0]  ð„€
SPECIFIC_CATALOG  Â¦  VARCHAR(64)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
SPECIFIC_SCHEMA  Â¦  VARCHAR(64)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
SPECIFIC_NAME  Â¦  VARCHAR(64)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
ORDINAL_POSITION  Â¦  BIGINT UNSIGNED(64)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
PARAMETER_MODE  Â¦  VARCHAR(5)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
PARAMETER_NAME  Â¦  VARCHAR(64)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
DATA_TYPE  Â¦  TEXT(0)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
CHARACTER_MAXIMUM_LENGTH  Â¦  BIGINT(64)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
CHARACTER_OCTET_LENGTH  Â¦  BIGINT(64)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
NUMERIC_PRECISION  Â¦  INT UNSIGNED(32)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
NUMERIC_SCALE  Â¦  BIGINT(64)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
DATETIME_PRECISION  Â¦  INT UNSIGNED(32)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
CHARACTER_SET_NAME  Â¦  VARCHAR(64)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
COLLATION_NAME  Â¦  VARCHAR(64)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
DTD_IDENTIFIER  Â¦  TEXT(0)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
ROUTINE_TYPE  Â¦  VARCHAR(64)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦  
DESC `mo_catalog`.`mo_columns` ;
âž¤ Field[1,0,0]  Â¦  Type[1,0,0]  Â¦  Null[1,0,0]  Â¦  Key[1,0,0]  Â¦  Default[1,0,0]  Â¦  Extra[1,0,0]  Â¦  Comment[1,0,0]  ð„€
att_uniq_name  Â¦  VARCHAR(256)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
account_id  Â¦  INT UNSIGNED(0)  Â¦  YES  Â¦  PRI  Â¦  null  Â¦    Â¦    ð„€
att_database_id  Â¦  BIGINT UNSIGNED(0)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
att_database  Â¦  VARCHAR(256)  Â¦  YES  Â¦  PRI  Â¦  null  Â¦    Â¦    ð„€
att_relname_id  Â¦  BIGINT UNSIGNED(0)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
att_relname  Â¦  VARCHAR(256)  Â¦  YES  Â¦  PRI  Â¦  null  Â¦    Â¦    ð„€
attname  Â¦  VARCHAR(256)  Â¦  YES  Â¦  PRI  Â¦  null  Â¦    Â¦    ð„€
atttyp  Â¦  VARCHAR(256)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
attnum  Â¦  INT(0)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
att_length  Â¦  INT(0)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
attnotnull  Â¦  TINYINT(0)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
atthasdef  Â¦  TINYINT(0)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
att_default  Â¦  VARCHAR(2048)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
attisdropped  Â¦  TINYINT(0)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
att_constraint_type  Â¦  CHAR(1)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
att_is_unsigned  Â¦  TINYINT(0)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
att_is_auto_increment  Â¦  TINYINT(0)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
att_comment  Â¦  VARCHAR(2048)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
att_is_hidden  Â¦  TINYINT(0)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
attr_has_update  Â¦  TINYINT(0)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
attr_update  Â¦  VARCHAR(2048)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
attr_is_clusterby  Â¦  TINYINT(0)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
attr_seqnum  Â¦  SMALLINT UNSIGNED(0)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
attr_enum  Â¦  VARCHAR(65535)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦  
DESC `mo_sample_data_tpch_sf10`.`region` ;
Unknown database mo_sample_data_tpch_sf10
DESC `mo_sample_data_tpch_sf1`.`customer` ;
Unknown database mo_sample_data_tpch_sf1
DESC `mo_sample_data_tpch_sf1`.`lineitem` ;
Unknown database mo_sample_data_tpch_sf1
DESC `mo_sample_data_tpch_sf1`.`nation` ;
Unknown database mo_sample_data_tpch_sf1
DESC `mo_sample_data_tpch_sf1`.`orders` ;
Unknown database mo_sample_data_tpch_sf1
DESC `mo_sample_data_tpch_sf1`.`supplier` ;
Unknown database mo_sample_data_tpch_sf1
DESC `mysql`.`columns_priv` ;
âž¤ Field[1,0,0]  Â¦  Type[1,0,0]  Â¦  Null[1,0,0]  Â¦  Key[1,0,0]  Â¦  Default[1,0,0]  Â¦  Extra[1,0,0]  Â¦  Comment[1,0,0]  ð„€
Host  Â¦  CHAR(255)  Â¦  NO  Â¦  PRI  Â¦    Â¦    Â¦    ð„€
Db  Â¦  CHAR(64)  Â¦  NO  Â¦  PRI  Â¦    Â¦    Â¦    ð„€
User  Â¦  CHAR(32)  Â¦  NO  Â¦  PRI  Â¦    Â¦    Â¦    ð„€
Table_name  Â¦  CHAR(64)  Â¦  NO  Â¦  PRI  Â¦    Â¦    Â¦    ð„€
Column_name  Â¦  CHAR(64)  Â¦  NO  Â¦  PRI  Â¦    Â¦    Â¦    ð„€
Timestamp  Â¦  TIMESTAMP(0)  Â¦  NO  Â¦    Â¦  CURRENT_TIMESTAMP()  Â¦    Â¦    ð„€
Column_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦    Â¦    Â¦  
DESC `mysql`.`db` ;
âž¤ Field[1,0,0]  Â¦  Type[1,0,0]  Â¦  Null[1,0,0]  Â¦  Key[1,0,0]  Â¦  Default[1,0,0]  Â¦  Extra[1,0,0]  Â¦  Comment[1,0,0]  ð„€
Host  Â¦  CHAR(255)  Â¦  NO  Â¦  PRI  Â¦    Â¦    Â¦    ð„€
Db  Â¦  CHAR(64)  Â¦  NO  Â¦  PRI  Â¦    Â¦    Â¦    ð„€
User  Â¦  CHAR(32)  Â¦  NO  Â¦  PRI  Â¦    Â¦    Â¦    ð„€
Select_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Insert_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Update_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Delete_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Create_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Drop_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Grant_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
References_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Index_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Alter_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Create_tmp_table_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Lock_tables_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Create_view_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Show_view_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Create_routine_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Alter_routine_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Execute_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Event_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Trigger_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦  
DESC `mysql`.`procs_priv` ;
âž¤ Field[1,0,0]  Â¦  Type[1,0,0]  Â¦  Null[1,0,0]  Â¦  Key[1,0,0]  Â¦  Default[1,0,0]  Â¦  Extra[1,0,0]  Â¦  Comment[1,0,0]  ð„€
Host  Â¦  CHAR(255)  Â¦  NO  Â¦  PRI  Â¦    Â¦    Â¦    ð„€
Db  Â¦  CHAR(64)  Â¦  NO  Â¦  PRI  Â¦    Â¦    Â¦    ð„€
User  Â¦  CHAR(32)  Â¦  NO  Â¦  PRI  Â¦    Â¦    Â¦    ð„€
Routine_name  Â¦  CHAR(64)  Â¦  NO  Â¦  PRI  Â¦    Â¦    Â¦    ð„€
Routine_type  Â¦  VARCHAR(10)  Â¦  NO  Â¦  PRI  Â¦  null  Â¦    Â¦    ð„€
Grantor  Â¦  VARCHAR(288)  Â¦  NO  Â¦  MUL  Â¦    Â¦    Â¦    ð„€
Proc_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦    Â¦    Â¦    ð„€
Timestamp  Â¦  TIMESTAMP(0)  Â¦  NO  Â¦    Â¦  CURRENT_TIMESTAMP()  Â¦    Â¦  
DESC `mysql`.`tables_priv` ;
âž¤ Field[1,0,0]  Â¦  Type[1,0,0]  Â¦  Null[1,0,0]  Â¦  Key[1,0,0]  Â¦  Default[1,0,0]  Â¦  Extra[1,0,0]  Â¦  Comment[1,0,0]  ð„€
Host  Â¦  CHAR(255)  Â¦  NO  Â¦  PRI  Â¦    Â¦    Â¦    ð„€
Db  Â¦  CHAR(64)  Â¦  NO  Â¦  PRI  Â¦    Â¦    Â¦    ð„€
User  Â¦  CHAR(32)  Â¦  NO  Â¦  PRI  Â¦    Â¦    Â¦    ð„€
Table_name  Â¦  CHAR(64)  Â¦  NO  Â¦  PRI  Â¦    Â¦    Â¦    ð„€
Grantor  Â¦  VARCHAR(288)  Â¦  NO  Â¦  MUL  Â¦    Â¦    Â¦    ð„€
Timestamp  Â¦  TIMESTAMP(0)  Â¦  NO  Â¦    Â¦  CURRENT_TIMESTAMP()  Â¦    Â¦    ð„€
Table_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦    Â¦    Â¦    ð„€
Column_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦    Â¦    Â¦  
DESC `mysql`.`user` ;
âž¤ Field[1,0,0]  Â¦  Type[1,0,0]  Â¦  Null[1,0,0]  Â¦  Key[1,0,0]  Â¦  Default[1,0,0]  Â¦  Extra[1,0,0]  Â¦  Comment[1,0,0]  ð„€
Host  Â¦  CHAR(255)  Â¦  NO  Â¦  PRI  Â¦    Â¦    Â¦    ð„€
User  Â¦  CHAR(32)  Â¦  NO  Â¦  PRI  Â¦    Â¦    Â¦    ð„€
Select_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Insert_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Update_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Delete_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Create_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Drop_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Reload_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Shutdown_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Process_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
File_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Grant_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
References_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Index_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Alter_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Show_db_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Super_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Create_tmp_table_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Lock_tables_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Execute_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Repl_slave_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Repl_client_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Create_view_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Show_view_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Create_routine_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Alter_routine_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Create_user_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Event_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Trigger_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Create_tablespace_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
ssl_type  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦    Â¦    Â¦    ð„€
ssl_cipher  Â¦  BLOB(0)  Â¦  NO  Â¦    Â¦  null  Â¦    Â¦    ð„€
x509_issuer  Â¦  BLOB(0)  Â¦  NO  Â¦    Â¦  null  Â¦    Â¦    ð„€
x509_subject  Â¦  BLOB(0)  Â¦  NO  Â¦    Â¦  null  Â¦    Â¦    ð„€
max_questions  Â¦  INT UNSIGNED(32)  Â¦  NO  Â¦    Â¦  0  Â¦    Â¦    ð„€
max_updates  Â¦  INT UNSIGNED(32)  Â¦  NO  Â¦    Â¦  0  Â¦    Â¦    ð„€
max_connections  Â¦  INT UNSIGNED(32)  Â¦  NO  Â¦    Â¦  0  Â¦    Â¦    ð„€
max_user_connections  Â¦  INT UNSIGNED(32)  Â¦  NO  Â¦    Â¦  0  Â¦    Â¦    ð„€
plugin  Â¦  CHAR(64)  Â¦  NO  Â¦    Â¦  caching_sha2_password  Â¦    Â¦    ð„€
authentication_string  Â¦  TEXT(0)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
password_expired  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
password_last_changed  Â¦  TIMESTAMP(0)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
password_lifetime  Â¦  SMALLINT UNSIGNED(16)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
account_locked  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Create_role_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Drop_role_priv  Â¦  VARCHAR(10)  Â¦  NO  Â¦    Â¦  N  Â¦    Â¦    ð„€
Password_reuse_history  Â¦  SMALLINT UNSIGNED(16)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
Password_reuse_time  Â¦  SMALLINT UNSIGNED(16)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
Password_require_current  Â¦  VARCHAR(10)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
User_attributes  Â¦  JSON(0)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦  
DESC `system_metrics`.`metric` ;
âž¤ Field[1,0,0]  Â¦  Type[1,0,0]  Â¦  Null[1,0,0]  Â¦  Key[1,0,0]  Â¦  Default[1,0,0]  Â¦  Extra[1,0,0]  Â¦  Comment[1,0,0]  ð„€
metric_name  Â¦  VARCHAR(1024)  Â¦  YES  Â¦    Â¦  sys  Â¦    Â¦  metric name, like: sql_statement_total, server_connections, process_cpu_percent, sys_memory_used, ...  ð„€
collecttime  Â¦  DATETIME(6)  Â¦  NO  Â¦    Â¦  null  Â¦    Â¦  metric data collect time  ð„€
value  Â¦  DOUBLE(0)  Â¦  YES  Â¦    Â¦  0.0  Â¦    Â¦  metric value  ð„€
node  Â¦  VARCHAR(1024)  Â¦  YES  Â¦    Â¦  monolithic  Â¦    Â¦  mo node uuid  ð„€
role  Â¦  VARCHAR(1024)  Â¦  YES  Â¦    Â¦  monolithic  Â¦    Â¦  mo node role, like: CN, DN, LOG  ð„€
account  Â¦  VARCHAR(1024)  Â¦  YES  Â¦    Â¦  sys  Â¦    Â¦  account name  ð„€
account_id  Â¦  INT UNSIGNED(32)  Â¦  YES  Â¦    Â¦  0  Â¦    Â¦  account id  ð„€
type  Â¦  VARCHAR(1024)  Â¦  NO  Â¦    Â¦  null  Â¦    Â¦  sql type, like: insert, select, ...
DESC `system_metrics`.`server_connections` ;
âž¤ Field[1,0,0]  Â¦  Type[1,0,0]  Â¦  Null[1,0,0]  Â¦  Key[1,0,0]  Â¦  Default[1,0,0]  Â¦  Extra[1,0,0]  Â¦  Comment[1,0,0]  ð„€
collecttime  Â¦  DATETIME(6)  Â¦  NO  Â¦    Â¦  null  Â¦    Â¦    ð„€
value  Â¦  DOUBLE(0)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
node  Â¦  VARCHAR(1024)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
role  Â¦  VARCHAR(1024)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
account  Â¦  VARCHAR(1024)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
account_id  Â¦  INT UNSIGNED(32)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦  
DESC `system_metrics`.`server_storage_usage` ;
âž¤ Field[1,0,0]  Â¦  Type[1,0,0]  Â¦  Null[1,0,0]  Â¦  Key[1,0,0]  Â¦  Default[1,0,0]  Â¦  Extra[1,0,0]  Â¦  Comment[1,0,0]  ð„€
collecttime  Â¦  DATETIME(6)  Â¦  NO  Â¦    Â¦  null  Â¦    Â¦    ð„€
value  Â¦  DOUBLE(0)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
node  Â¦  VARCHAR(1024)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
role  Â¦  VARCHAR(1024)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
account  Â¦  VARCHAR(1024)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
account_id  Â¦  INT UNSIGNED(32)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦  
DESC `system_metrics`.`sql_statement_errors` ;
âž¤ Field[1,0,0]  Â¦  Type[1,0,0]  Â¦  Null[1,0,0]  Â¦  Key[1,0,0]  Â¦  Default[1,0,0]  Â¦  Extra[1,0,0]  Â¦  Comment[1,0,0]  ð„€
collecttime  Â¦  DATETIME(6)  Â¦  NO  Â¦    Â¦  null  Â¦    Â¦    ð„€
value  Â¦  DOUBLE(0)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
node  Â¦  VARCHAR(1024)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
role  Â¦  VARCHAR(1024)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
account  Â¦  VARCHAR(1024)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
account_id  Â¦  INT UNSIGNED(32)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
type  Â¦  VARCHAR(1024)  Â¦  NO  Â¦    Â¦  null  Â¦    Â¦  
DESC `system_metrics`.`sql_transaction_total` ;
âž¤ Field[1,0,0]  Â¦  Type[1,0,0]  Â¦  Null[1,0,0]  Â¦  Key[1,0,0]  Â¦  Default[1,0,0]  Â¦  Extra[1,0,0]  Â¦  Comment[1,0,0]  ð„€
collecttime  Â¦  DATETIME(6)  Â¦  NO  Â¦    Â¦  null  Â¦    Â¦    ð„€
value  Â¦  DOUBLE(0)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
node  Â¦  VARCHAR(1024)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
role  Â¦  VARCHAR(1024)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
account  Â¦  VARCHAR(1024)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦    ð„€
account_id  Â¦  INT UNSIGNED(32)  Â¦  YES  Â¦    Â¦  null  Â¦    Â¦  
INSERT INTO `mo_catalog`.`statement_mo` (`statement_id`,`account`,`response_at`,`stu`,`account_id`) VALUES ('057247c5-2d0c-11ee-9e81-96ce077ba0f3','91731e77_49ea_4a8a_b1c7_d5512c7ae96e','2023-07-28 06:00:20','0.0003963262009632',2);
no such table mo_catalog.statement_mo
INSERT INTO `mo_mo`.`statement_time` (`cluster`,`last_time`) VALUES ('ab','2023-07-28 04:50:00');
no such table mo_mo.statement_time
INSERT INTO `mo_mo`.`stu` (`account`,`start_time`,`end_time`,`stu`,`type`) VALUES ('2ef38bf3_b821_4cab_879e_3b788f1e922f','2023-07-28 07:19:00','2023-07-28 07:20:00','0.0002629868102331','ab');
no such table mo_mo.stu
INSERT INTO `mo_mo`.`stu` (`account`,`start_time`,`end_time`,`stu`,`type`) VALUES ('2ef38bf3_b821_4cab_879e_3b788f1e922f','2023-07-28 07:52:00','2023-07-28 07:53:00','0.0056437809323943','cd');
no such table mo_mo.stu
INSERT INTO `mo_mo`.`moins` (`id`,`name`,`account_name`,`provider`,`provider_id`,`region`,`pty`,`version`,`status`,`qt`,`policy`,`created_by`,`created_at`) VALUES ('c3daefe4-2197-4192-a10e-d0acc5d9da30','free0','c3daefe4_2197_4192_a10e_d0acc5d9da30','ab','1527','cd','ef','nightly-2257011e','','{\stu\:1000,\storage\:53687}','{\allow_list\:[\0.0.0.0/0\]}','154b8231-cc1d-4629-88c6-d007cf4f4af8','2023-07-28 06:06:03.608');
no such table mo_mo.moins
INSERT INTO `mo_mo`.`storage_time` (`cluster`,`last_time`) VALUES ('ab','2023-07-28 03:30:00');
no such table mo_mo.storage_time
INSERT INTO `mo_mo`.`storage` (`collecttime`,`value`,`account`,`interval`) VALUES ('2023-07-28 03:30:00',0.075000,'301b1fe7_0d51_404e_9e18_33fe2f1d29b2',10);
no such table mo_mo.storage
INSERT INTO `mo_mo`.`wb_version` (`id`,`wb_id`,`sql_content`,`version`,`status`,`created_at`,`updated_at`) VALUES ('6c1eede6-70d9-4185-82fe-f5341777d27d','ba8f2a64-3396-465c-a770-77600865d6c2','create database hx;','2023-07-28T05:01:41Z',1,'2023-07-28 05:01:41.047','2023-07-28 05:01:41.047');
no such table mo_mo.wb_version
INSERT INTO `mo_mo`.`wb` (`id`,`account_id`,`sql_user`,`name`,`created_at`,`updated_at`) VALUES ('30415473-5276-42c5-8302-4e9a7e605900','91731e77_49ea_4a8a_b1c7_d5512c7ae96e','admin','New sql wb 2','2023-07-28 06:21:56.89','2023-07-28 06:21:56.89');
no such table mo_mo.wb
SELECT * FROM `mo_catalog`.`mo_account` WHERE `mo_account`.`account_name` = 'c3daefe4_2197_4192_a10e_d0acc5d9da30' ORDER BY `mo_account`.`account_name` LIMIT 1;
SQL parser error: table "mo_account" does not exist
SELECT * FROM `mo_mo`.`statement_time` WHERE cluster = 'ab' LIMIT 1;
SQL parser error: table "statement_time" does not exist
SELECT * FROM `mo_mo`.`storage_time` WHERE cluster = 'ab' LIMIT 1;
SQL parser error: table "storage_time" does not exist
SELECT * FROM `mo_mo`.`wb_version` WHERE wb_id = '9579cf34-2faf-4b9b-83dc-09638c39265a' AND id = '06945b61-372b-4289-964b-0a6b098e2c4e' ORDER BY updated_at DESC;
SQL parser error: table "wb_version" does not exist
SELECT * FROM `mo_mo`.`wb` WHERE 1=1 AND account_id = '91731e77_49ea_4a8a_b1c7_d5512c7ae96e' AND sql_user = 'admin' AND name LIKE '%New sql wb %' ORDER BY updated_at DESC LIMIT 100;
SQL parser error: table "wb" does not exist
SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'mo_mo%' ORDER BY SCHEMA_NAME='mo_mo' DESC,SCHEMA_NAME limit 1;
âž¤ SCHEMA_NAME[12,-1,0]  ð„€
mo_mo
SELECT `collecttime`,`value`,`account` FROM `system_metrics`.`server_storage_usage` WHERE account != 'sys' and account != 'ob' and collectTime >= '2023-07-28 03:23:00' and collectTime < '2023-07-28 03:30:00';
âž¤ collecttime[93,64,0]  Â¦  value[8,54,0]  Â¦  account[12,-1,0]
SELECT `statement_id`,`stats`,`duration`,`sql_source_type`,`account`,`response_at` FROM `system`.`statement_info` WHERE status != 'Running' and account != 'sys' and account != 'ob' and response_at >= '2023-07-28 04:49:00' and response_at < '2023-07-28 04:50:00';
âž¤ statement_id[12,-1,0]  Â¦  stats[12,0,0]  Â¦  duration[-5,64,0]  Â¦  sql_source_type[12,0,0]  Â¦  account[12,-1,0]  Â¦  response_at[93,64,0]
SELECT `value` FROM `system_metrics`.`server_storage_usage` WHERE account = '863f0767_0361_4a8c_a3e8_73b2be140a74' and collecttime > '2023-07-28 06:07:53' and collecttime <= '2023-07-28 06:10:53' ORDER BY collecttime DESC LIMIT 1;
âž¤ value[8,54,0]
SELECT count(*) FROM `mo_mo`.`moins` WHERE id = '2ef38bf3-b821-4cab-879e-3b788f1e922f';
SQL parser error: table "moins" does not exist
SELECT count(*) FROM `mo_mo`.`wb_version` WHERE wb_id = 'd457fd59-a865-4a5b-80b0-6e19a6059f1f';
SQL parser error: table "wb_version" does not exist
SELECT count(*) FROM `mo_mo`.`wb` WHERE account_id = '91731e77_49ea_4a8a_b1c7_d5512c7ae96e' AND sql_user = 'admin' AND id = '30415473-5276-42c5-8302-4e9a7e605900';
SQL parser error: table "wb" does not exist
SELECT count(*) FROM information_schema.tables WHERE table_schema = '' AND table_name = 'moins' AND table_type = 'BASE TABLE';
âž¤ count(*)[-5,64,0]  ð„€
0
SELECT datname AS name, IF (table_cnt IS NULL, 0, table_cnt) AS tables, role_name AS owner FROM (SELECT dat_id, datname, mo_database.created_time, IF(role_name IS NULL, '-', role_name) AS role_name FROM mo_catalog.mo_database LEFT JOIN mo_catalog.mo_role ON mo_database.owner = role_id) AS x LEFT JOIN(SELECT count(*) AS table_cnt, reldatabase_id FROM mo_catalog.mo_tables WHERE relkind IN ('r','v','e','cluster') GROUP BY reldatabase_id) AS y ON x.dat_id = y.reldatabase_id order by name;
âž¤ name[12,-1,0]  Â¦  tables[-5,64,0]  Â¦  owner[12,-1,0]  ð„€
information_schema  Â¦  24  Â¦  accountadmin  ð„€
mo_catalog  Â¦  25  Â¦  -  ð„€
mo_mo  Â¦  0  Â¦  accountadmin  ð„€
mysql  Â¦  6  Â¦  accountadmin  ð„€
system  Â¦  1  Â¦  accountadmin  ð„€
system_metrics  Â¦  11  Â¦  accountadmin
SELECT mo_catalog.mo_database.datname,mo_catalog.mo_tables.relname,mo_catalog.mo_tables.relkind, if (role_name IS NULL,'-', role_name) AS `owner` FROM mo_catalog.mo_database LEFT JOIN mo_catalog.mo_tables ON mo_catalog.mo_database.datname = mo_catalog.mo_tables.reldatabase LEFT JOIN mo_catalog.mo_role ON mo_catalog.mo_tables.owner=role_id WHERE (relname NOT LIKE "__mo_index_secondary_%" AND relname NOT LIKE "__mo_index_unique_%" OR relname IS NULL) ORDER BY reldatabase, relname;
âž¤ datname[12,-1,0]  Â¦  relname[12,-1,0]  Â¦  relkind[12,-1,0]  Â¦  owner[12,-1,0]  ð„€
mo_mo  Â¦  null  Â¦  null  Â¦  -  ð„€
information_schema  Â¦  character_sets  Â¦  r  Â¦  accountadmin  ð„€
information_schema  Â¦  collations  Â¦  r  Â¦  accountadmin  ð„€
information_schema  Â¦  column_privileges  Â¦  r  Â¦  accountadmin  ð„€
information_schema  Â¦  columns  Â¦  v  Â¦  accountadmin  ð„€
information_schema  Â¦  engines  Â¦  r  Â¦  accountadmin  ð„€
information_schema  Â¦  events  Â¦  r  Â¦  accountadmin  ð„€
information_schema  Â¦  files  Â¦  r  Â¦  accountadmin  ð„€
information_schema  Â¦  key_column_usage  Â¦  r  Â¦  accountadmin  ð„€
information_schema  Â¦  keywords  Â¦  r  Â¦  accountadmin  ð„€
information_schema  Â¦  parameters  Â¦  r  Â¦  accountadmin  ð„€
information_schema  Â¦  partitions  Â¦  v  Â¦  accountadmin  ð„€
information_schema  Â¦  processlist  Â¦  v  Â¦  accountadmin  ð„€
information_schema  Â¦  profiling  Â¦  r  Â¦  accountadmin  ð„€
information_schema  Â¦  referential_constraints  Â¦  v  Â¦  accountadmin  ð„€
information_schema  Â¦  routines  Â¦  r  Â¦  accountadmin  ð„€
information_schema  Â¦  schema_privileges  Â¦  r  Â¦  accountadmin  ð„€
information_schema  Â¦  schemata  Â¦  v  Â¦  accountadmin  ð„€
information_schema  Â¦  statistics  Â¦  v  Â¦  accountadmin  ð„€
information_schema  Â¦  table_constraints  Â¦  v  Â¦  accountadmin  ð„€
information_schema  Â¦  table_privileges  Â¦  r  Â¦  accountadmin  ð„€
information_schema  Â¦  tables  Â¦  v  Â¦  accountadmin  ð„€
information_schema  Â¦  triggers  Â¦  r  Â¦  accountadmin  ð„€
information_schema  Â¦  user_privileges  Â¦  r  Â¦  accountadmin  ð„€
information_schema  Â¦  views  Â¦  v  Â¦  accountadmin  ð„€
mo_catalog  Â¦  mo_cache  Â¦  v  Â¦  accountadmin  ð„€
mo_catalog  Â¦  mo_columns  Â¦  r  Â¦  -  ð„€
mo_catalog  Â¦  mo_configurations  Â¦  v  Â¦  accountadmin  ð„€
mo_catalog  Â¦  mo_database  Â¦  r  Â¦  -  ð„€
mo_catalog  Â¦  mo_foreign_keys  Â¦  r  Â¦  accountadmin  ð„€
mo_catalog  Â¦  mo_increment_columns  Â¦    Â¦  accountadmin  ð„€
mo_catalog  Â¦  mo_indexes  Â¦  r  Â¦  accountadmin  ð„€
mo_catalog  Â¦  mo_locks  Â¦  v  Â¦  accountadmin  ð„€
mo_catalog  Â¦  mo_mysql_compatibility_mode  Â¦  r  Â¦  accountadmin  ð„€
mo_catalog  Â¦  mo_parquet_schema  Â¦  r  Â¦  accountadmin  ð„€
mo_catalog  Â¦  mo_partition_metadata  Â¦  r  Â¦  accountadmin  ð„€
mo_catalog  Â¦  mo_partition_tables  Â¦  r  Â¦  accountadmin  ð„€
mo_catalog  Â¦  mo_role  Â¦  r  Â¦  accountadmin  ð„€
mo_catalog  Â¦  mo_role_grant  Â¦  r  Â¦  accountadmin  ð„€
mo_catalog  Â¦  mo_role_privs  Â¦  r  Â¦  accountadmin  ð„€
mo_catalog  Â¦  mo_sessions  Â¦  v  Â¦  accountadmin  ð„€
mo_catalog  Â¦  mo_snapshots  Â¦  r  Â¦  accountadmin  ð„€
mo_catalog  Â¦  mo_stages  Â¦  r  Â¦  accountadmin  ð„€
mo_catalog  Â¦  mo_stored_procedure  Â¦  r  Â¦  accountadmin  ð„€
mo_catalog  Â¦  mo_table_partitions  Â¦  r  Â¦  accountadmin  ð„€
mo_catalog  Â¦  mo_tables  Â¦  r  Â¦  -  ð„€
mo_catalog  Â¦  mo_transactions  Â¦  v  Â¦  accountadmin  ð„€
mo_catalog  Â¦  mo_user  Â¦  r  Â¦  accountadmin  ð„€
mo_catalog  Â¦  mo_user_defined_function  Â¦  r  Â¦  accountadmin  ð„€
mo_catalog  Â¦  mo_user_grant  Â¦  r  Â¦  accountadmin  ð„€
mo_catalog  Â¦  mo_variables  Â¦  v  Â¦  accountadmin  ð„€
mysql  Â¦  columns_priv  Â¦  r  Â¦  accountadmin  ð„€
mysql  Â¦  db  Â¦  r  Â¦  accountadmin  ð„€
mysql  Â¦  procs_priv  Â¦  r  Â¦  accountadmin  ð„€
mysql  Â¦  role_edges  Â¦  r  Â¦  accountadmin  ð„€
mysql  Â¦  tables_priv  Â¦  r  Â¦  accountadmin  ð„€
mysql  Â¦  user  Â¦  r  Â¦  accountadmin  ð„€
system  Â¦  statement_info  Â¦  r  Â¦  accountadmin  ð„€
system_metrics  Â¦  metric  Â¦  r  Â¦  accountadmin  ð„€
system_metrics  Â¦  server_connections  Â¦  v  Â¦  accountadmin  ð„€
system_metrics  Â¦  server_object_count  Â¦  v  Â¦  accountadmin  ð„€
system_metrics  Â¦  server_snapshot_usage  Â¦  v  Â¦  accountadmin  ð„€
system_metrics  Â¦  server_storage_usage  Â¦  v  Â¦  accountadmin  ð„€
system_metrics  Â¦  sql_statement_cu  Â¦  r  Â¦  accountadmin  ð„€
system_metrics  Â¦  sql_statement_duration_total  Â¦  v  Â¦  accountadmin  ð„€
system_metrics  Â¦  sql_statement_errors  Â¦  v  Â¦  accountadmin  ð„€
system_metrics  Â¦  sql_statement_total  Â¦  v  Â¦  accountadmin  ð„€
system_metrics  Â¦  sql_transaction_errors  Â¦  v  Â¦  accountadmin  ð„€
system_metrics  Â¦  sql_transaction_total  Â¦  v  Â¦  accountadmin
SELECT relname AS `name`, IF (role_name IS NULL, '-', role_name) AS `owner` FROM mo_catalog.mo_tables LEFT JOIN mo_catalog.mo_role ON mo_catalog.mo_tables.owner=role_id WHERE relkind IN ('v') AND reldatabase='information_schema';
âž¤ name[12,-1,0]  Â¦  owner[12,-1,0]  ð„€
columns  Â¦  accountadmin  ð„€
processlist  Â¦  accountadmin  ð„€
schemata  Â¦  accountadmin  ð„€
tables  Â¦  accountadmin  ð„€
partitions  Â¦  accountadmin  ð„€
views  Â¦  accountadmin  ð„€
statistics  Â¦  accountadmin  ð„€
referential_constraints  Â¦  accountadmin  ð„€
table_constraints  Â¦  accountadmin
SELECT relname AS `name`, IF (role_name IS NULL, '-', role_name) AS `owner` FROM mo_catalog.mo_tables LEFT JOIN mo_catalog.mo_role ON mo_catalog.mo_tables.owner=role_id WHERE relkind IN ('v') AND reldatabase='mo_sample_data_tpch_sf1';
âž¤ name[12,-1,0]  Â¦  owner[12,-1,0]
SELECT relname AS `name`, IF (role_name IS NULL, '-', role_name) AS `owner` FROM mo_catalog.mo_tables LEFT JOIN mo_catalog.mo_role ON mo_catalog.mo_tables.owner=role_id WHERE relkind IN ('v') AND reldatabase='mysql';
âž¤ name[12,-1,0]  Â¦  owner[12,-1,0]
SELECT relname AS `name`, IF (role_name IS NULL, '-', role_name) AS `owner` FROM mo_catalog.mo_tables LEFT JOIN mo_catalog.mo_role ON mo_catalog.mo_tables.owner=role_id WHERE relkind IN ('v') AND reldatabase='system';
âž¤ name[12,-1,0]  Â¦  owner[12,-1,0]
SELECT relname AS `name`, IF (role_name IS NULL, '-', role_name) AS `owner` FROM mo_catalog.mo_tables LEFT JOIN mo_catalog.mo_role ON mo_catalog.mo_tables.owner=role_id WHERE relkind IN ('v') AND reldatabase='system_metrics';
âž¤ name[12,-1,0]  Â¦  owner[12,-1,0]  ð„€
sql_statement_total  Â¦  accountadmin  ð„€
sql_statement_errors  Â¦  accountadmin  ð„€
sql_transaction_total  Â¦  accountadmin  ð„€
sql_transaction_errors  Â¦  accountadmin  ð„€
sql_statement_duration_total  Â¦  accountadmin  ð„€
server_connections  Â¦  accountadmin  ð„€
server_storage_usage  Â¦  accountadmin  ð„€
server_object_count  Â¦  accountadmin  ð„€
server_snapshot_usage  Â¦  accountadmin
set mo_table_stats.use_old_impl = yes;
SELECT relname AS `name`, mo_table_rows(reldatabase, relname) AS `rows`, mo_table_size(reldatabase, relname) AS `size`, if (role_name IS NULL, '-', role_name) AS `owner` FROM mo_catalog.mo_tables LEFT JOIN mo_catalog.mo_role ON mo_catalog.mo_tables.owner=role_id WHERE relkind IN ('r','e','cluster') AND reldatabase='information_schema';
âž¤ name[12,-1,0]  Â¦  rows[-5,64,0]  Â¦  size[-5,64,0]  Â¦  owner[12,-1,0]  ð„€
key_column_usage  Â¦  0  Â¦  0  Â¦  accountadmin  ð„€
profiling  Â¦  0  Â¦  0  Â¦  accountadmin  ð„€
user_privileges  Â¦  0  Â¦  0  Â¦  accountadmin  ð„€
character_sets  Â¦  0  Â¦  0  Â¦  accountadmin  ð„€
triggers  Â¦  0  Â¦  0  Â¦  accountadmin  ð„€
engines  Â¦  0  Â¦  0  Â¦  accountadmin  ð„€
routines  Â¦  0  Â¦  0  Â¦  accountadmin  ð„€
parameters  Â¦  0  Â¦  0  Â¦  accountadmin  ð„€
keywords  Â¦  747  Â¦  23904  Â¦  accountadmin  ð„€
schema_privileges  Â¦  0  Â¦  0  Â¦  accountadmin  ð„€
table_privileges  Â¦  0  Â¦  0  Â¦  accountadmin  ð„€
column_privileges  Â¦  0  Â¦  0  Â¦  accountadmin  ð„€
collations  Â¦  0  Â¦  0  Â¦  accountadmin  ð„€
events  Â¦  0  Â¦  0  Â¦  accountadmin  ð„€
files  Â¦  0  Â¦  0  Â¦  accountadmin
SELECT relname AS `name`, mo_table_rows(reldatabase, relname) AS `rows`, mo_table_size(reldatabase, relname) AS `size`, if (role_name IS NULL, '-', role_name) AS `owner` FROM mo_catalog.mo_tables LEFT JOIN mo_catalog.mo_role ON mo_catalog.mo_tables.owner=role_id WHERE relkind IN ('r','e','cluster') AND reldatabase='mo_sample_data_tpch_sf1';
âž¤ name[12,-1,0]  Â¦  rows[-5,64,0]  Â¦  size[-5,64,0]  Â¦  owner[12,-1,0]
SELECT relname AS `name`, mo_table_rows(reldatabase, relname) AS `rows`, mo_table_size(reldatabase, relname) AS `size`, if (role_name IS NULL, '-', role_name) AS `owner` FROM mo_catalog.mo_tables LEFT JOIN mo_catalog.mo_role ON mo_catalog.mo_tables.owner=role_id WHERE relkind IN ('r','e','cluster') AND reldatabase='mysql';
âž¤ name[12,-1,0]  Â¦  rows[-5,64,0]  Â¦  size[-5,64,0]  Â¦  owner[12,-1,0]  ð„€
user  Â¦  0  Â¦  0  Â¦  accountadmin  ð„€
db  Â¦  0  Â¦  0  Â¦  accountadmin  ð„€
procs_priv  Â¦  0  Â¦  0  Â¦  accountadmin  ð„€
columns_priv  Â¦  0  Â¦  0  Â¦  accountadmin  ð„€
tables_priv  Â¦  0  Â¦  0  Â¦  accountadmin  ð„€
role_edges  Â¦  0  Â¦  0  Â¦  accountadmin
SELECT relname AS `name`, mo_table_rows(reldatabase, relname) AS `rows`, mo_table_size(reldatabase, relname) AS `size`, if (role_name IS NULL, '-', role_name) AS `owner` FROM mo_catalog.mo_tables LEFT JOIN mo_catalog.mo_role ON mo_catalog.mo_tables.owner=role_id WHERE relkind IN ('r','e','cluster') AND reldatabase='system';
âž¤ name[12,-1,0]  Â¦  rows[-5,64,0]  Â¦  size[-5,64,0]  Â¦  owner[12,-1,0]  ð„€
statement_info  Â¦  0  Â¦  0  Â¦  accountadmin
SELECT relname AS `name`, mo_table_rows(reldatabase, relname) AS `rows`, mo_table_size(reldatabase, relname) AS `size`, if (role_name IS NULL, '-', role_name) AS `owner` FROM mo_catalog.mo_tables LEFT JOIN mo_catalog.mo_role ON mo_catalog.mo_tables.owner=role_id WHERE relkind IN ('r','e','cluster') AND reldatabase='system_metrics' order by name;
âž¤ name[12,-1,0]  Â¦  rows[-5,64,0]  Â¦  size[-5,64,0]  Â¦  owner[12,-1,0]  ð„€
metric  Â¦  0  Â¦  0  Â¦  accountadmin  ð„€
sql_statement_cu  Â¦  0  Â¦  0  Â¦  accountadmin
set mo_table_stats.use_old_impl = no;
SELECT count(*) FROM `system`.`statement_info` WHERE status != 'Running' and account != 'sys' and account != 'ob' ORDER BY response_at asc LIMIT 1;
SQL syntax error: column "statement_info.response_at" must appear in the GROUP BY clause or be used in an aggregate function
SELECT role_name AS owner FROM (SELECT dat_id, datname, mo_database.created_time, IF(role_name IS NULL, '-', role_name) AS role_name FROM mo_catalog.mo_database LEFT JOIN mo_catalog.mo_role ON mo_database.owner = role_id) AS x WHERE datname='information_schema';
âž¤ owner[12,-1,0]  ð„€
accountadmin
SELECT role_name AS owner FROM (SELECT dat_id, datname, mo_database.created_time, IF(role_name IS NULL, '-', role_name) AS role_name FROM mo_catalog.mo_database LEFT JOIN mo_catalog.mo_role ON mo_database.owner = role_id) AS x WHERE datname='mo_sample_data_tpch_sf1';
âž¤ owner[12,-1,0]
SELECT role_name AS owner FROM (SELECT dat_id, datname, mo_database.created_time, IF(role_name IS NULL, '-', role_name) AS role_name FROM mo_catalog.mo_database LEFT JOIN mo_catalog.mo_role ON mo_database.owner = role_id) AS x WHERE datname='mysql';
âž¤ owner[12,-1,0]  ð„€
accountadmin
SELECT role_name AS owner FROM (SELECT dat_id, datname, mo_database.created_time, IF(role_name IS NULL, '-', role_name) AS role_name FROM mo_catalog.mo_database LEFT JOIN mo_catalog.mo_role ON mo_database.owner = role_id) AS x WHERE datname='system';
âž¤ owner[12,-1,0]  ð„€
accountadmin
SELECT role_name AS owner FROM (SELECT dat_id, datname, mo_database.created_time, IF(role_name IS NULL, '-', role_name) AS role_name FROM mo_catalog.mo_database LEFT JOIN mo_catalog.mo_role ON mo_database.owner = role_id) AS x WHERE datname='system_metrics';
âž¤ owner[12,-1,0]  ð„€
accountadmin
SELECT sum(`value`*`interval`) FROM `mo_mo`.`storage` WHERE collecttime > '2023-07-28 00:00:00' AND collecttime <= '2023-07-28 03:54:39' AND account = '91731e77_49ea_4a8a_b1c7_d5512c7ae96e';
SQL parser error: table "storage" does not exist
UPDATE `mo_mo`.`statement_time` SET `last_time`='2023-07-28 09:00:00' WHERE `cluster` = 'ab';
no such table mo_mo.statement_time
UPDATE `mo_mo`.`storage_time` SET `last_time`='2023-07-28 03:30:00' WHERE `cluster` = 'ab';
no such table mo_mo.storage_time
UPDATE `mo_mo`.`wb_version` SET `status`=2,`version`='2023-07-28T05:00:35Z',`updated_at`='2023-07-28 05:00:35.752' WHERE wb_id = 'ba8f2a64-3396-465c-a770-77600865d6c2' AND id = '7f660329-a51b-4b17-b981-fc9acd9b492a';
no such table mo_mo.wb_version
UPDATE `mo_mo`.`wb` SET `updated_at`='2023-07-28 06:02:41.452' WHERE id = '9579cf34-2faf-4b9b-83dc-09638c39265a';
no such table mo_mo.wb
alter account `2ef38bf3_b821_4cab_879e_3b788f1e922f` admin_name 'admin' identified by 'abcd';
internal error: do not have privilege to execute the statement
delete from mo_mo.operation where created_at <= '2023-07-21 13:42:02';
no such table mo_mo.operation
select distinct IF(relkind = 'v', 0, mo_table_rows('information_schema','character_sets')) as `rows` from mo_catalog.mo_tables where reldatabase='information_schema' and relname='character_sets';
âž¤ rows[-5,64,0]  ð„€
0
select distinct IF(relkind = 'v', 0, mo_table_rows('mo_sample_data_tpch_sf1','customer')) as `rows` from mo_catalog.mo_tables where reldatabase='mo_sample_data_tpch_sf1' and relname='customer';
âž¤ rows[-5,64,0]
select distinct IF(relkind = 'v', 0, mo_table_rows('mo_sample_data_tpch_sf1','lineitem')) as `rows` from mo_catalog.mo_tables where reldatabase='mo_sample_data_tpch_sf1' and relname='lineitem';
âž¤ rows[-5,64,0]
select distinct IF(relkind = 'v', 0, mo_table_rows('mo_sample_data_tpch_sf1','nation')) as `rows` from mo_catalog.mo_tables where reldatabase='mo_sample_data_tpch_sf1' and relname='nation';
âž¤ rows[-5,64,0]
select distinct IF(relkind = 'v', 0, mo_table_rows('mo_sample_data_tpch_sf1','orders')) as `rows` from mo_catalog.mo_tables where reldatabase='mo_sample_data_tpch_sf1' and relname='orders';
âž¤ rows[-5,64,0]
select distinct IF(relkind = 'v', 0, mo_table_rows('mo_sample_data_tpch_sf1','supplier')) as `rows` from mo_catalog.mo_tables where reldatabase='mo_sample_data_tpch_sf1' and relname='supplier';
âž¤ rows[-5,64,0]
select distinct IF(relkind = 'v', 0, mo_table_rows('mo_sample_data_tpch_sf10','region')) as `rows` from mo_catalog.mo_tables where reldatabase='mo_sample_data_tpch_sf10' and relname='region';
âž¤ rows[-5,64,0]
select sum(stu) from mo_mo.stu where account = '863f0767_0361_4a8c_a3e8_73b2be140a74' and start_time >= '2023-07-28 03:34:59' and start_time <= '2023-07-28 06:10:52';
SQL parser error: table "stu" does not exist
drop database if exists mo_mo;
drop account test_tenant_1;
select table_name from information_schema.tables where table_schema collate utf8_general_ci = 'information_schema' and table_name collate utf8_general_ci = 'parameters';
âž¤ table_name[12,-1,0]  ð„€
parameters
