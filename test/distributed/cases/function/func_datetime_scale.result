drop table if exists t_scale_storage;
create table t_scale_storage (
id int,
dt0 datetime(0),
dt1 datetime(1),
dt2 datetime(2),
dt3 datetime(3),
dt4 datetime(4),
dt5 datetime(5),
dt6 datetime(6),
ts0 timestamp(0),
ts6 timestamp(6),
t0 time(0),
t6 time(6)
);
insert into t_scale_storage values (
1,
'2022-07-01 10:20:30',
'2022-07-01 10:20:30.1',
'2022-07-01 10:20:30.12',
'2022-07-01 10:20:30.123',
'2022-07-01 10:20:30.1234',
'2022-07-01 10:20:30.12345',
'2022-07-01 10:20:30.123456',
'2022-07-01 10:20:30',
'2022-07-01 10:20:30.123456',
'10:20:30',
'10:20:30.123456'
);
select * from t_scale_storage;
âž¤ id[4,32,0]  Â¦  dt0[93,64,0]  Â¦  dt1[93,64,0]  Â¦  dt2[93,64,0]  Â¦  dt3[93,64,0]  Â¦  dt4[93,64,0]  Â¦  dt5[93,64,0]  Â¦  dt6[93,64,0]  Â¦  ts0[93,64,0]  Â¦  ts6[93,64,0]  Â¦  t0[92,64,0]  Â¦  t6[92,64,0]  ð„€
1  Â¦  2022-07-01 10:20:30  Â¦  2022-07-01 10:20:30.100000000  Â¦  2022-07-01 10:20:30.120000000  Â¦  2022-07-01 10:20:30.123000000  Â¦  2022-07-01 10:20:30.123400000  Â¦  2022-07-01 10:20:30.123450000  Â¦  2022-07-01 10:20:30.123456000  Â¦  2022-07-01 10:20:30  Â¦  2022-07-01 10:20:30.123456000  Â¦  10:20:30  Â¦  10:20:30.123456000
select
dt0 = dt6,  -- should be true (ignoring microsecond part)
dt3 = dt6,  -- should be false (microsecond part different)
dt6 = '2022-07-01 10:20:30.123456',
dt6 > '2022-07-01 10:20:30.123455',
dt6 < '2022-07-01 10:20:30.123457'
from t_scale_storage;
âž¤ dt0 = dt6[-7,1,0]  Â¦  dt3 = dt6[-7,1,0]  Â¦  dt6 = 2022-07-01 10:20:30.123456[-7,1,0]  Â¦  dt6 > 2022-07-01 10:20:30.123455[-7,1,0]  Â¦  dt6 < 2022-07-01 10:20:30.123457[-7,1,0]  ð„€
0  Â¦  0  Â¦  1  Â¦  1  Â¦  1
select
now(0),      -- no microseconds
now(3),      -- 3 digits microseconds
now(6),      -- 6 digits microseconds (not 9)
current_timestamp(0),
current_timestamp(3),
current_timestamp(6),
date_add('2022-07-01 10:20:30.123456', interval 1 microsecond)
;
âž¤ now(0)[93,64,0]  Â¦  now(3)[93,64,0]  Â¦  now(6)[93,64,0]  Â¦  current_timestamp(0)[93,64,0]  Â¦  current_timestamp(3)[93,64,0]  Â¦  current_timestamp(6)[93,64,0]  Â¦  date_add(2022-07-01 10:20:30.123456, interval(1, microsecond))[12,-1,0]  ð„€
2026-01-08 14:10:34  Â¦  2026-01-08 14:10:33.516000000  Â¦  2026-01-08 14:10:33.515799000  Â¦  2026-01-08 14:10:34  Â¦  2026-01-08 14:10:33.516000000  Â¦  2026-01-08 14:10:33.515799000  Â¦  2022-07-01 10:20:30.123457
select
timestampadd(microsecond, 1, '2022-07-01 10:20:30.123456')
;
âž¤ timestampadd(microsecond, 1, 2022-07-01 10:20:30.123456)[12,-1,0]  ð„€
2022-07-01 10:20:30.123457
drop table if exists t_scale_storage;
drop table if exists t_scale_comparison;
create table t_scale_comparison (
id int,
dt0 datetime(0),
dt3 datetime(3),
dt6 datetime(6),
ts0 timestamp(0),
ts6 timestamp(6)
);
insert into t_scale_comparison values
(1, '2022-07-01 10:20:30', '2022-07-01 10:20:30.123', '2022-07-01 10:20:30.123456', '2022-07-01 10:20:30', '2022-07-01 10:20:30.123456'),
(2, '2022-07-01 10:20:30', '2022-07-01 10:20:30.000', '2022-07-01 10:20:30.000000', '2022-07-01 10:20:30', '2022-07-01 10:20:30.000000');
select
dt0 = dt6,
ts0 = ts6,
dt0 = '2022-07-01 10:20:30',
dt6 = '2022-07-01 10:20:30.000000'
from t_scale_comparison where id = 1;
âž¤ dt0 = dt6[-7,1,0]  Â¦  ts0 = ts6[-7,1,0]  Â¦  dt0 = 2022-07-01 10:20:30[-7,1,0]  Â¦  dt6 = 2022-07-01 10:20:30.000000[-7,1,0]  ð„€
0  Â¦  0  Â¦  1  Â¦  0
select * from t_scale_comparison
where dt6 = '2022-07-01 10:20:30.123456';
âž¤ id[4,32,0]  Â¦  dt0[93,64,0]  Â¦  dt3[93,64,0]  Â¦  dt6[93,64,0]  Â¦  ts0[93,64,0]  Â¦  ts6[93,64,0]  ð„€
1  Â¦  2022-07-01 10:20:30  Â¦  2022-07-01 10:20:30.123000000  Â¦  2022-07-01 10:20:30.123456000  Â¦  2022-07-01 10:20:30  Â¦  2022-07-01 10:20:30.123456000
select * from t_scale_comparison
where dt0 = dt6;
âž¤ id[4,32,0]  Â¦  dt0[93,64,0]  Â¦  dt3[93,64,0]  Â¦  dt6[93,64,0]  Â¦  ts0[93,64,0]  Â¦  ts6[93,64,0]  ð„€
2  Â¦  2022-07-01 10:20:30  Â¦  2022-07-01 10:20:30  Â¦  2022-07-01 10:20:30  Â¦  2022-07-01 10:20:30  Â¦  2022-07-01 10:20:30
drop table if exists t_scale_comparison;
