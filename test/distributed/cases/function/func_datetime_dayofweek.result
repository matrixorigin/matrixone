SELECT dayofweek(date('2007-02-03 03:42:24'));
dayofweek(date('2007-02-03 03:42:24'))
7
SELECT dayofweek(NULL);
dayofweek(NULL)
null
create table t1(i DATE, k datetime, l TIMESTAMP);
insert into t1 values("2012-03-10", "2012-03-12 10:03:12", "2022-03-12 13:03:12");
insert into t1 values("2012-03-22", "2013-03-12 10:03:12", "2032-03-12 13:04:12");
insert into t1 values("2011-03-12", "2015-03-12 10:03:12", "2002-03-12 13:03:12");
insert into t1 values("2012-01-12", "2019-03-12 10:03:12", "2013-03-12 13:03:12");
insert into t1 values("2023-11-08", "2023-11-08 15:03", "2023-11-08 15:03");
select dayofweek(i),dayofweek(k),dayofweek(l) from t1;
dayofweek(i)	dayofweek(k)	dayofweek(l)
7	2	7
5	3	6
7	5	3
5	3	3
4	4	4
drop table t1;
SELECT dayofweek("2015-09-03") as dayofweek;
dayofweek
5
SELECT dayofweek("2015-09-30") as dayofweek;
dayofweek
4
SELECT dayofweek('2015-09-26 08:09:22') AS dayofweek;
dayofweek
7
select dayofweek("2020-08-01");
dayofweek("2020-08-01")
7
select dayofweek("2000-01-01");
dayofweek("2000-01-01")
7
select dayofweek("1999-12-31");
dayofweek("1999-12-31")
6
select dayofweek("2006-12-25");
dayofweek("2006-12-25")
2
select dayofweek("2008-02-29");
dayofweek("2008-02-29")
6
SELECT dayofweek("2015-09-10")- dayofweek("2016-04-24");
dayofweek("2015-09-10")- dayofweek("2016-04-24")
-1
SELECT dayofweek("2015-09-10")+ dayofweek("2016-04-24");
dayofweek("2015-09-10")+ dayofweek("2016-04-24")
6
SELECT dayofweek("2015-09-10")*dayofweek("2016-04-24");
dayofweek("2015-09-10")*dayofweek("2016-04-24")
5
SELECT dayofweek("2015-09-10")/dayofweek("2016-04-24");
dayofweek("2015-09-10")/dayofweek("2016-04-24")
5.0
SELECT dayofweek("2015-09-10")>dayofweek("2016-04-24");
dayofweek("2015-09-10")>dayofweek("2016-04-24")
true
SELECT dayofweek("2015-09-10")<dayofweek("2016-04-24");
dayofweek("2015-09-10")<dayofweek("2016-04-24")
false
SELECT dayofweek("2015-09-10")=dayofweek("2016-04-24");
dayofweek("2015-09-10")=dayofweek("2016-04-24")
false
SELECT dayofweek("2015-09-10")<>dayofweek("2016-04-24");
dayofweek("2015-09-10")<>dayofweek("2016-04-24")
true
SELECT dayofweek("2015-09-10")!=dayofweek("2016-04-24");
dayofweek("2015-09-10")!=dayofweek("2016-04-24")
true
CREATE TABLE Product(Product_id INT AUTO_INCREMENT,  Product_name VARCHAR(100) NOT NULL,Buying_price DECIMAL(13, 2) NOT NULL,Selling_price DECIMAL(13, 2) NOT NULL,Selling_Date Date NOT NULL,PRIMARY KEY(Product_id));
INSERT INTO  Product(Product_name, Buying_price, Selling_price, Selling_Date) VALUES ('Audi Q8', 10000000.00, 15000000.00, '2018-01-26' ),('Volvo XC40', 2000000.00, 3000000.00, '2018-04-20' ),('Audi A6', 4000000.00, 5000000.00, '2018-07-25' ),('BMW X5', 5000500.00, 7006500.00, '2018-10-18'  ),('Jaguar XF', 5000000, 7507000.00, '2019-01-27'  ),('Mercedes-Benz C-Class', 4000000.00, 6000000.00, '2019-04-01'  ),('Jaguar F-PACE', 5000000.00, 7000000.00, '2019-12-26'  ),('Porsche Macan', 6500000.00, 8000000.00, '2020-04-16' ) ;
SELECT  dayofweek (Selling_Date) dayofweek,  COUNT(Product_id) Product_Sold FROM Product GROUP BY dayofweek (Selling_Date) ORDER BY dayofweek (Selling_Date);
dayofweek	Product_Sold
1	1
2	1
4	1
5	3
6	2
DROP TABLE Product;
drop table if exists t1;
create table t1(a INT,  b date);
insert into t1 select dayofweek("2012-10-12"), "2012-10-12";
insert into t1 select dayofweek("2004-04-24"), "2004-04-24";
insert into t1 select dayofweek("2008-12-04"), "2008-12-04";
select * from t1;
a	b
6	2012-10-12
7	2004-04-24
5	2008-12-04
drop table t1;
drop table if exists t1;
create table t1(a INT,  b date);
insert into t1 values(1, "2012-10-12"),(2, "2004-04-24"),(3, "2008-12-04"),(4, "2012-03-23");
select * from t1 where dayofweek(b)<>0;
a	b
1	2012-10-12
2	2004-04-24
3	2008-12-04
4	2012-03-23
drop table t1;
drop table if exists t1;
drop table if exists t2;
create table t1(a INT,  b date);
create table t2(a INT,  b date);
insert into t1 values(1, "2012-10-12"),(2, "2004-04-24"),(3, "2008-12-04"),(4, "2012-03-23");
insert into t2 values(1, "2013-04-30"),(2, "1994-10-04"),(3, "2018-06-04"),(4, "2012-08-12");
SELECT t1.a, t2.a FROM t1 JOIN t2 ON (dayofweek(t1.b) <> dayofweek(t2.b));
t1.a	t2.a
1	1
1	2
1	3
1	4
2	1
2	2
2	3
2	4
3	1
3	2
3	3
3	4
4	1
4	2
4	3
4	4
drop table t1;
drop table t2;
drop table if exists t1;
create table t1(a INT,  b date);
insert into t1 values(1, "2012-10-12"),(1, "2012-07-12"),(2, "2004-04-24"),(3, "2008-12-04"),(4, "2012-03-23");
select b from t1 group by b having dayofweek(b)>0;
b
2012-10-12
2012-07-12
2004-04-24
2008-12-04
2012-03-23
drop table t1;
drop table if exists t1;
create table t1(a INT,  b date);
insert into t1 values(1, "2012-10-12"),(1, "2012-07-12"),(2, "2004-04-24"),(3, "2004-04-24"),(3, "2008-12-04"),(4, "2012-03-23");
select distinct dayofweek(b) from t1;
dayofweek(b)
5
6
7
drop table t1;
CREATE TABLE t3(c1 DATE NOT NULL);
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('1999-12-31');
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('2006-12-25');
INSERT INTO t3 VALUES('2008-02-29');
SELECT DAYOFWEEK(c1) FROM t3;
DAYOFWEEK(c1)
7
6
7
2
6
DROP TABLE t3;
CREATE TABLE t3(c1 DATETIME NOT NULL);
INSERT INTO t3 VALUES('2000-01-01 00:00:00');
INSERT INTO t3 VALUES('1999-12-31 23:59:59');
INSERT INTO t3 VALUES('2000-01-01 12:00:00');
INSERT INTO t3 VALUES('2006-12-25 08:30:00');
INSERT INTO t3 VALUES('2008-02-29 15:45:00');
SELECT DAYOFWEEK(c1) FROM t3;
DAYOFWEEK(c1)
7
6
7
2
6
DROP TABLE t3;
CREATE TABLE t3(c1 TIMESTAMP NOT NULL);
INSERT INTO t3 VALUES('2000-01-01 00:00:00');
INSERT INTO t3 VALUES('1999-12-31 23:59:59');
INSERT INTO t3 VALUES('2000-01-01 12:00:00');
INSERT INTO t3 VALUES('2006-12-25 08:30:00');
INSERT INTO t3 VALUES('2008-02-29 15:45:00');
SELECT DAYOFWEEK(c1) FROM t3;
DAYOFWEEK(c1)
7
6
7
2
6
DROP TABLE t3;
CREATE TABLE ci_store_sales_order (id INT, store_id INT, order_date DATETIME, status CHAR(1), is_paid INT, total_amount DECIMAL(10,2));
INSERT INTO ci_store_sales_order VALUES (1, 1, '2023-11-08 10:30:00', 'C', 1, 100.50), (2, 1, '2023-11-08 14:20:00', 'C', 1, 200.75), (3, 1, '2023-11-09 09:15:00', 'C', 1, 150.00), (4, 2, '2023-11-08 11:00:00', 'C', 1, 300.25), (5, 2, '2023-11-09 16:45:00', 'C', 1, 250.50), (6, 1, '2023-11-10 08:00:00', 'C', 1, 180.00);
SELECT store_id, HOUR(order_date) as hour_of_day, DAYOFWEEK(order_date) as day_of_week, COUNT(id) as order_count, SUM(total_amount) as total_sales, AVG(total_amount) as avg_order_value FROM ci_store_sales_order WHERE status = 'C' AND is_paid = 1 GROUP BY store_id, HOUR(order_date), DAYOFWEEK(order_date) ORDER BY store_id, day_of_week, hour_of_day;
store_id	hour_of_day	day_of_week	order_count	total_sales	avg_order_value
1	8	6	1	180.00	180.00
1	9	5	1	150.00	150.00
1	10	4	1	100.50	100.50
1	14	4	1	200.75	200.75
2	11	4	1	300.25	300.25
2	16	5	1	250.50	250.50
DROP TABLE ci_store_sales_order;
