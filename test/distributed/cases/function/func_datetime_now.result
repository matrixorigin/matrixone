select now()=now();
now() = now()
true
create table t1(a timestamp(6),b int auto_increment);
prepare s1 from 'insert into t1(a) select now(6)';
execute s1;
select sleep(0.001);
sleep(0.001)
0
execute s1;
select t1.a=t2.a from t1,(select a from t1  where b=2)as t2 where b=1;
t1.a = t2.a
false
delete from t1;
deallocate prepare s1;
alter table t1 modify column a timestamp;
insert into t1(a,b) values (cast('2024-10-30 10:20:30.123456' as timestamp), 1);
insert into t1(a,b) values (cast('2024-10-30 10:20:30.222222' as timestamp), 2);
select t1.a=t2.a from t1,(select a from t1  where b=2)as t2 where b=1;
t1.a = t2.a
true
delete from t1;
prepare s1 from 'insert into t1(a,b) values(cast(? as timestamp(6)),?)';
set @a='2024-10-30 10:20:30.123456';
set @b=1;
execute s1 using @a, @b;
set @a='2024-10-30 10:20:30.123456';
set @b=2;
execute s1 using @a, @b;
select t1.a=t2.a from t1,(select a from t1  where b=2)as t2 where b=1;
t1.a = t2.a
true
deallocate prepare s1;
drop table t1;
select a=b,c from  (select now(6) as a,  sleep(1) as c, now(6) as b) t1;
a = b    c
true    0
set @ts=now();
select sleep(1);
sleep(1)
0
set @ts_after=now();
select timestampdiff(microsecond, @ts, @ts_after) >= 1000000 checked;
checked
true
drop table if exists t1;
create table t1(a timestamp,b int auto_increment);
insert into t1(a) select current_timestamp () from mo_catalog.mo_sessions limit 1;
select sleep(1);
sleep(1)
0
insert into t1(a) select current_timestamp () from mo_catalog.mo_sessions limit 1;
select t1.a=t2.a from t1,(select a from t1  where b=2)as t2 where b=1;
t1.a = t2.a
false
drop table t1;
select timestampdiff(second, t1, t2), a from (select sysdate() as t1, sleep(2) as a, sysdate() as t2);
timestampdiff(second, t1, t2)    a
2    0
select time(now());
time(now())
13:38:50
select date(now());
date(now())
2025-11-21
select timestamp(now());
timestamp(now())
2025-11-21 13:38:51
select year(now());
year(now())
2025
select month(now());
month(now())
11
select day(now());
day(now())
21
select hour(now());
hour(now())
13
select minute(now());
minute(now())
38
select second(now());
second(now())
50
select localtime() = now() as should_be_true;
should_be_true
true
select localtime = now() as should_be_true;
should_be_true
true
