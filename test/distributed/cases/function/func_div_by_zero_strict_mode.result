DROP TABLE IF EXISTS t_strict_div;
CREATE TABLE t_strict_div (id INT, val INT);
SET sql_mode = '';
INSERT INTO t_strict_div VALUES (1, 10/0);
INSERT INTO t_strict_div VALUES (2, 10 DIV 0);
INSERT INTO t_strict_div VALUES (3, 10 % 0);
SELECT * FROM t_strict_div ORDER BY id;
‚û§ id[4,32,0]  ¬¶  val[4,32,0]  ùÑÄ
1  ¬¶  null  ùÑÄ
2  ¬¶  null  ùÑÄ
3  ¬¶  null
TRUNCATE TABLE t_strict_div;
SET sql_mode = 'STRICT_TRANS_TABLES';
INSERT INTO t_strict_div VALUES (1, 10/0);
INSERT INTO t_strict_div VALUES (2, 10 DIV 0);
INSERT INTO t_strict_div VALUES (3, 10 % 0);
SELECT * FROM t_strict_div ORDER BY id;
‚û§ id[4,32,0]  ¬¶  val[4,32,0]  ùÑÄ
1  ¬¶  null  ùÑÄ
2  ¬¶  null  ùÑÄ
3  ¬¶  null
TRUNCATE TABLE t_strict_div;
[unknown result because it is related to issue#23438]
SET sql_mode = 'STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO';
[unknown result because it is related to issue#23438]
INSERT INTO t_strict_div VALUES (1, 10/0);
[unknown result because it is related to issue#23438]
INSERT INTO t_strict_div VALUES (2, 10 DIV 0);
[unknown result because it is related to issue#23438]
INSERT INTO t_strict_div VALUES (3, 10 % 0);
[unknown result because it is related to issue#23438]
SELECT COUNT(*) FROM t_strict_div;
[unknown result because it is related to issue#23438]
SET sql_mode = 'STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO';
INSERT IGNORE INTO t_strict_div VALUES (1, 10/0);
INSERT IGNORE INTO t_strict_div VALUES (2, 10 DIV 0);
INSERT IGNORE INTO t_strict_div VALUES (3, 10 % 0);
SELECT * FROM t_strict_div ORDER BY id;
‚û§ id[4,32,0]  ¬¶  val[4,32,0]  ùÑÄ
1  ¬¶  null  ùÑÄ
1  ¬¶  null  ùÑÄ
2  ¬¶  null  ùÑÄ
2  ¬¶  null  ùÑÄ
3  ¬¶  null  ùÑÄ
3  ¬¶  null
TRUNCATE TABLE t_strict_div;
[unknown result because it is related to issue#23438]
INSERT INTO t_strict_div VALUES (1, 100), (2, 200), (3, 300);
[unknown result because it is related to issue#23438]
SET sql_mode = 'STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO';
[unknown result because it is related to issue#23438]
UPDATE t_strict_div SET val = 10/0 WHERE id = 1;
[unknown result because it is related to issue#23438]
SELECT * FROM t_strict_div ORDER BY id;
[unknown result because it is related to issue#23438]
SET sql_mode = 'STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO';
SELECT 10/0 AS div_result;
‚û§ div_result[8,54,0]  ùÑÄ
null
SELECT 10 DIV 0 AS intdiv_result;
‚û§ intdiv_result[-5,64,0]  ùÑÄ
null
SELECT 10 % 0 AS mod_result;
‚û§ mod_result[-5,64,0]  ùÑÄ
null
SET sql_mode = 'STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO';
[unknown result because it is related to issue#23438]
INSERT INTO t_strict_div VALUES (10, 10/0);
[unknown result because it is related to issue#23438]
SELECT 10/0 AS should_be_null;
[unknown result because it is related to issue#23438]
INSERT INTO t_strict_div VALUES (11, 10/0);
[unknown result because it is related to issue#23438]
SET sql_mode = 'STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO';
[unknown result because it is related to issue#23438]
INSERT INTO t_strict_div VALUES (20, 10/0);  -- Should error
[unknown result because it is related to issue#23438]
SET sql_mode = '';
[unknown result because it is related to issue#23438]
INSERT INTO t_strict_div VALUES (20, 10/0);  -- Should succeed with NULL
[unknown result because it is related to issue#23438]
SELECT * FROM t_strict_div WHERE id = 20;
[unknown result because it is related to issue#23438]
DROP TABLE t_strict_div;
SET sql_mode = DEFAULT;
