drop database if exists temp_session;
create database temp_session;
use temp_session;
drop table if exists temp_session1;
create temporary table temp_session1 (
id int,
session_name varchar(50)
);
insert into temp_session1 values (1, 'session 1 data');
select * from temp_session1;  -- é¢„æœŸç»“æœ: è¿”å› (1, 'session 1 data')
â¤ id[4,32,0]  Â¦  session_name[12,-1,0]  ğ„€
1  Â¦  session 1 data
select * from temp_session.temp_session1;  -- é¢„æœŸç»“æœ: æŠ¥é”™ "table does not exist"
SQL parser error: table "temp_session1" does not exist
create temporary table temp_shared_name (
id int,
data varchar(50)
);
insert into temp_shared_name values (1, 'from session 1');
select * from temp_shared_name;  -- é¢„æœŸç»“æœ: è¿”å› 'from session 1'
â¤ id[4,32,0]  Â¦  data[12,-1,0]  ğ„€
1  Â¦  from session 1
drop database if exists session2;
create database session2;
create temporary table session2.temp_shared_name (
id int,
data varchar(50)
);
insert into session2.temp_shared_name values (2, 'from session 2');
select * from session2.temp_shared_name;  -- é¢„æœŸç»“æœ: è¿”å› 'from session 2'
â¤ id[4,32,0]  Â¦  data[12,-1,0]  ğ„€
2  Â¦  from session 2
select * from temp_shared_name;  -- é¢„æœŸç»“æœ: ä»ç„¶è¿”å› 'from session 1'
â¤ id[4,32,0]  Â¦  data[12,-1,0]  ğ„€
1  Â¦  from session 1
create temporary table temp_session.temp_auto_cleanup (
id int,
value varchar(50)
);
insert into temp_session.temp_auto_cleanup values (1, 'test data');
select * from temp_session.temp_auto_cleanup;  -- é¢„æœŸç»“æœ: è¿”å›æ•°æ®
â¤ id[4,32,0]  Â¦  value[12,-1,0]  ğ„€
1  Â¦  test data
select * from temp_session.temp_auto_cleanup;  -- é¢„æœŸç»“æœ: æŠ¥é”™ "table does not exist"
SQL parser error: table "temp_auto_cleanup" does not exist
create table users (
id int,
name varchar(50),
type varchar(20) default 'permanent'
);
insert into users values (1, 'permanent user', 'permanent');
select * from users;  -- é¢„æœŸç»“æœ: è¿”å› (1, 'permanent user', 'permanent')
â¤ id[4,32,0]  Â¦  name[12,-1,0]  Â¦  type[12,-1,0]  ğ„€
1  Â¦  permanent user  Â¦  permanent
create temporary table users (
id int,
name varchar(50),
type varchar(20) default 'temporary'
);
insert into users values (2, 'temporary user', 'temporary');
select * from users;  -- é¢„æœŸç»“æœ: è¿”å› (2, 'temporary user', 'temporary')
â¤ id[4,32,0]  Â¦  name[12,-1,0]  Â¦  type[12,-1,0]  ğ„€
2  Â¦  temporary user  Â¦  temporary
drop table users;  -- åˆ é™¤ä¸´æ—¶è¡¨
select * from users;  -- é¢„æœŸç»“æœ: è¿”å› (1, 'permanent user', 'permanent')
â¤ id[4,32,0]  Â¦  name[12,-1,0]  Â¦  type[12,-1,0]  ğ„€
1  Â¦  permanent user  Â¦  permanent
drop table users;  -- åˆ é™¤æ™®é€šè¡¨
create table products (
id int,
name varchar(50)
);
show create table products;  -- é¢„æœŸç»“æœ: æ˜¾ç¤º create table products
â¤ Table[12,-1,0]  Â¦  Create Table[12,-1,0]  ğ„€
products  Â¦  CREATE TABLE `products` (
  `id` int DEFAULT NULL,
  `name` varchar(50) DEFAULT NULL
)
create temporary table products (
id int,
name varchar(100)
);
show create table products;  -- é¢„æœŸç»“æœ: æ˜¾ç¤º create temporary table products
â¤ Table[12,-1,0]  Â¦  Create Table[12,-1,0]  ğ„€
products  Â¦  CREATE TEMPORARY TABLE `products` (
  `id` int DEFAULT NULL,
  `name` varchar(100) DEFAULT NULL
)
drop table products;  -- åˆ é™¤ä¸´æ—¶è¡¨
show create table products;  -- é¢„æœŸç»“æœ: æ˜¾ç¤º create table products
â¤ Table[12,-1,0]  Â¦  Create Table[12,-1,0]  ğ„€
products  Â¦  CREATE TABLE `products` (
  `id` int DEFAULT NULL,
  `name` varchar(50) DEFAULT NULL
)
drop table products;  -- åˆ é™¤æ™®é€šè¡¨
create table orders (
id int,
amount decimal(10,2)
);
insert into orders values (1, 100.00);
create temporary table orders (
id int,
amount decimal(10,2)
);
insert into orders values (2, 200.00);
update orders set amount = 250.00 where id = 2;
delete from orders where id = 2;
select * from orders;  -- é¢„æœŸç»“æœ: ç©ºç»“æœï¼ˆä¸´æ—¶è¡¨ä¸ºç©ºï¼‰
â¤ id[4,32,0]  Â¦  amount[3,10,2]
drop table orders;  -- åˆ é™¤ä¸´æ—¶è¡¨
select * from orders;  -- é¢„æœŸç»“æœ: è¿”å› (1, 100.00) æ™®é€šè¡¨æ•°æ®
â¤ id[4,32,0]  Â¦  amount[3,10,2]  ğ„€
1  Â¦  100.00
drop table orders;  -- åˆ é™¤æ™®é€šè¡¨
create table temp_session.customers (
id int,
name varchar(50)
);
insert into temp_session.customers values (1, 'customer a');
insert into temp_session.customers values (2, 'customer b');
select * from temp_session.customers;  -- é¢„æœŸç»“æœ: è¿”å›2æ¡è®°å½•
â¤ id[4,32,0]  Â¦  name[12,-1,0]  ğ„€
1  Â¦  customer a  ğ„€
2  Â¦  customer b
create temporary table temp_session.customers (
id int,
name varchar(50)
);
insert into temp_session.customers values (3, 'temp customer');
select * from temp_session.customers;  -- é¢„æœŸç»“æœ: è¿”å› (3, 'temp customer')
â¤ id[4,32,0]  Â¦  name[12,-1,0]  ğ„€
3  Â¦  temp customer
select * from temp_session.customers;  -- é¢„æœŸç»“æœ: ä»ç„¶è¿”å›åŸæ¥çš„2æ¡è®°å½•
â¤ id[4,32,0]  Â¦  name[12,-1,0]  ğ„€
1  Â¦  customer a  ğ„€
2  Â¦  customer b
drop table temp_session.customers;  -- åˆ é™¤ä¸´æ—¶è¡¨
drop table temp_session.customers;  -- åˆ é™¤æ™®é€šè¡¨
create temporary table temp_manual_drop (
id int,
data varchar(50)
);
insert into temp_manual_drop values (1, 'test');
select * from temp_manual_drop;  -- é¢„æœŸç»“æœ: è¿”å›æ•°æ®
â¤ id[4,32,0]  Â¦  data[12,-1,0]  ğ„€
1  Â¦  test
drop table temp_manual_drop;
select * from temp_manual_drop;  -- é¢„æœŸç»“æœ: æŠ¥é”™ "table does not exist"
SQL parser error: table "temp_manual_drop" does not exist
create table test_table (
id int,
type varchar(20) default 'permanent'
);
insert into test_table values (1, 'permanent');
create temporary table test_table (
id int,
type varchar(20) default 'temporary'
);
insert into test_table values (2, 'temporary');
drop table test_table;  -- åˆ é™¤ä¸´æ—¶è¡¨
select * from test_table;  -- é¢„æœŸç»“æœ: è¿”å› (1, 'permanent')
â¤ id[4,32,0]  Â¦  type[12,-1,0]  ğ„€
1  Â¦  permanent
drop table test_table;  -- åˆ é™¤æ™®é€šè¡¨
create temporary table temp_table1 (id int);
create temporary table temp_table2 (id int);
create temporary table temp_table3 (id int);
insert into temp_table1 values (1);
insert into temp_table2 values (2);
insert into temp_table3 values (3);
select * from temp_table1;  -- é¢„æœŸç»“æœ: è¿”å› 1
â¤ id[4,32,0]  ğ„€
1
select * from temp_table2;  -- é¢„æœŸç»“æœ: è¿”å› 2
â¤ id[4,32,0]  ğ„€
2
select * from temp_table3;  -- é¢„æœŸç»“æœ: è¿”å› 3
â¤ id[4,32,0]  ğ„€
3
drop table temp_table2;
select * from temp_table1;  -- é¢„æœŸç»“æœ: ä»ç„¶å¯è®¿é—®
â¤ id[4,32,0]  ğ„€
1
select * from temp_table2;  -- é¢„æœŸç»“æœ: æŠ¥é”™
SQL parser error: table "temp_table2" does not exist
select * from temp_table3;  -- é¢„æœŸç»“æœ: ä»ç„¶å¯è®¿é—®
â¤ id[4,32,0]  ğ„€
3
drop table temp_table1;
drop table temp_table3;
create temporary table temp_session.temp_timeout (
id int,
data varchar(50)
);
insert into temp_session.temp_timeout values (1, 'test data');
select * from temp_timeout;  -- é¢„æœŸç»“æœ: æŠ¥é”™ "table does not exist"
SQL parser error: table "temp_timeout" does not exist
create table temp_session.permanent1 (id int);
create table temp_session.permanent2 (id int);
create temporary table temp_session.temp1 (id int);
create temporary table temp_session.temp2 (id int);
use temp_session;
show tables;
â¤ Tables_in_temp_session[12,-1,0]  ğ„€
permanent1  ğ„€
permanent2
drop table temp1;
no such table temp_session.temp1
drop table temp2;
no such table temp_session.temp2
drop table permanent1;
drop table permanent2;
create table test_visibility (id int);
show tables;  -- é¢„æœŸç»“æœ: æ˜¾ç¤º test_visibility
â¤ Tables_in_temp_session[12,-1,0]  ğ„€
test_visibility
create temporary table test_visibility (id int);
show tables;  -- é¢„æœŸç»“æœ: ä»ç„¶æ˜¾ç¤º test_visibilityï¼ˆæ™®é€šè¡¨ï¼‰
â¤ Tables_in_temp_session[12,-1,0]  ğ„€
test_visibility
drop table test_visibility;  -- åˆ é™¤ä¸´æ—¶è¡¨
show tables;  -- é¢„æœŸç»“æœ: æ˜¾ç¤º test_visibilityï¼ˆæ™®é€šè¡¨ï¼‰
â¤ Tables_in_temp_session[12,-1,0]  ğ„€
test_visibility
drop table test_visibility;  -- åˆ é™¤æ™®é€šè¡¨
create temporary table temp_long_session (
id int,
created_at timestamp default current_timestamp
);
insert into temp_long_session (id) values (1);
select * from temp_long_session;  -- é¢„æœŸç»“æœ: æ•°æ®ä»ç„¶å­˜åœ¨
â¤ id[4,32,0]  Â¦  created_at[93,64,0]  ğ„€
1  Â¦  2026-02-05 18:52:11
insert into temp_long_session (id) values (2);
select * from temp_long_session;  -- é¢„æœŸç»“æœ: è¿”å›2æ¡è®°å½•
â¤ id[4,32,0]  Â¦  created_at[93,64,0]  ğ„€
1  Â¦  2026-02-05 18:52:11  ğ„€
2  Â¦  2026-02-05 18:52:11
drop table temp_long_session;
drop database temp_session;
