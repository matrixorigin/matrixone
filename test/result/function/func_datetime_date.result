SELECT DATE(0.0124);
invalid argument operator cast, bad value [DECIMAL128 DATE]
SELECT DATE("2112123");
data out of range: data type date, '2112123'
SELECT DATE(1231241.4513);
invalid argument operator cast, bad value [DECIMAL128 DATE]
SELECT DATE("2017-06-15");
DATE("2017-06-15")
2017-06-15
SELECT DATE("2017-06-15 09:34:21");
DATE("2017-06-15 09:34:21")
2017-06-15
SELECT DATE("The date is 2017-06-15");
data out of range: data type date, 'The date is 2017-06-15'
SELECT DATE('2008-05-17 11:31:31') as required_DATE;
required_DATE
2008-05-17
select coalesce(date(NULL)), coalesce(cast(NULL as DATE));
coalesce(date(NULL))	coalesce(cast(NULL as DATE))
null	null
select date(NULL);
date(NULL)
null
CREATE TABLE t1 (d1 datetime);
INSERT INTO t1(d1) VALUES ('2007-07-19 08:30:00'), (NULL),
('2007-07-19 08:34:00'), (NULL), ('2007-07-19 08:36:00');
SELECT cast(date(d1) as signed) FROM t1;
invalid argument operator cast, bad value [DATE BIGINT]
drop table t1;
CREATE TABLE t1 (d1 datetime);
INSERT INTO t1(d1) VALUES ('2007-07-19 08:30:00'), (NULL),
('2007-07-19 08:34:00'), (NULL), ('2007-07-19 08:36:00');
SELECT sum(date(d1)) FROM t1;
invalid argument aggregate function sum, bad value [DATE]
drop table t1;
select date("1997-12-31 23:59:59.000001");
date("1997-12-31 23:59:59.000001")
1997-12-31
select date("1997-13-31 23:59:59.000001");
data out of range: data type date, '1997-13-31 23:59:59.000001'
SELECT DATE(20110512154559.6 + 0e0);
invalid argument operator cast, bad value [DOUBLE DATE]
SELECT DATE(concat_ws('a', 0));
data out of range: data type date, '0'
CREATE TABLE t1 (a timestamp);
INSERT INTO t1 VALUES ("2020-12-31 12:01:32");
SELECT DATE(MIN(a)) FROM t1;
DATE(MIN(a))
2020-12-31
DROP TABLE t1;
CREATE TABLE t1
(first_usage DATE, last_recharge DATETIME, life_time SMALLINT(4) UNSIGNED);
INSERT INTO t1 VALUES ('2011-04-27', null, 900);
SELECT
DATE_ADD(coalesce(last_recharge, first_usage), INTERVAL life_time DAY ) as dt,
DATE_ADD(coalesce(last_recharge, first_usage), INTERVAL life_time DAY ) <
DATE('2011-04-28') as exp FROM t1;
dt	exp
2013-10-13 00:00:00	false
DROP TABLE t1;
SELECT DATE(20110512154559.616), DATE(FLOOR(20110512154559.616));
invalid argument operator cast, bad value [DECIMAL128 DATE]
DROP TABLE IF EXISTS t3;
CREATE TABLE t3(c1 DATE NOT NULL);
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('1999-12-31');
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('2006-12-25');
INSERT INTO t3 VALUES('2008-02-29');
SELECT DATE(c1) FROM t3;
DATE(c1)
2000-01-01
1999-12-31
2000-01-01
2006-12-25
2008-02-29
DROP TABLE t3;
CREATE TABLE t3(c1 DATETIME NOT NULL);
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('1999-12-31');
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('2006-12-25');
INSERT INTO t3 VALUES('2008-02-29');
SELECT DATE(c1) FROM t3;
DATE(c1)
2000-01-01
1999-12-31
2000-01-01
2006-12-25
2008-02-29
DROP TABLE t3;
CREATE TABLE t3(c1 TIMESTAMP NOT NULL);
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('1999-12-31');
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('2006-12-25');
INSERT INTO t3 VALUES('2008-02-29');
SELECT DATE(c1) FROM t3;
DATE(c1)
2000-01-01
1999-12-31
2000-01-01
2006-12-25
2008-02-29
DROP TABLE t3;
CREATE TABLE t3(c1 DATE NOT NULL);
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('1999-12-31');
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('2006-12-25');
INSERT INTO t3 VALUES('2008-02-29');
SELECT DAYOFYEAR(c1) FROM t3;
DAYOFYEAR(c1)
1
365
1
359
60
DROP TABLE t3;
CREATE TABLE t3(c1 DATETIME NOT NULL);
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('1999-12-31');
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('2006-12-25');
INSERT INTO t3 VALUES('2008-02-29');
SELECT DAYOFYEAR(c1) FROM t3;
DAYOFYEAR(c1)
1
365
1
359
60
DROP TABLE t3;
CREATE TABLE t3(c1 TIMESTAMP NOT NULL);
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('1999-12-31');
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('2006-12-25');
INSERT INTO t3 VALUES('2008-02-29');
SELECT DAYOFYEAR(c1) FROM t3;
DAYOFYEAR(c1)
1
365
1
359
60
DROP TABLE t3;
CREATE TABLE t3(c1 DATE NOT NULL);
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('1999-12-31');
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('2006-12-25');
INSERT INTO t3 VALUES('2008-02-29');
SELECT MONTH(c1) FROM t3;
MONTH(c1)
1
12
1
12
2
DROP TABLE t3;
CREATE TABLE t3(c1 DATETIME NOT NULL);
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('1999-12-31');
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('2006-12-25');
INSERT INTO t3 VALUES('2008-02-29');
SELECT MONTH(c1) FROM t3;
MONTH(c1)
1
12
1
12
2
DROP TABLE t3;
CREATE TABLE t3(c1 TIMESTAMP NOT NULL);
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('1999-12-31');
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('2006-12-25');
INSERT INTO t3 VALUES('2008-02-29');
SELECT MONTH(c1) FROM t3;
MONTH(c1)
1
12
1
12
2
DROP TABLE t3;
CREATE TABLE t3(c1 DATE NOT NULL);
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('1999-12-31');
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('2006-12-25');
INSERT INTO t3 VALUES('2008-02-29');
SELECT WEEKDAY(c1) FROM t3;
WEEKDAY(c1)
5
4
5
0
4
DROP TABLE t3;
CREATE TABLE t3(c1 DATETIME NOT NULL);
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('1999-12-31');
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('2006-12-25');
INSERT INTO t3 VALUES('2008-02-29');
SELECT WEEKDAY(c1) FROM t3;
WEEKDAY(c1)
5
4
5
0
4
DROP TABLE t3;
CREATE TABLE t3(c1 TIMESTAMP NOT NULL);
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('1999-12-31');
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('2006-12-25');
INSERT INTO t3 VALUES('2008-02-29');
SELECT WEEKDAY(c1) FROM t3;
WEEKDAY(c1)
5
4
5
0
4
DROP TABLE t3;
CREATE TABLE t3(c1 DATE NOT NULL);
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('1999-12-31');
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('2006-12-25');
INSERT INTO t3 VALUES('2008-02-29');
SELECT YEAR(c1) FROM t3;
YEAR(c1)
2000
1999
2000
2006
2008
DROP TABLE t3;
CREATE TABLE t3(c1 DATETIME NOT NULL);
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('1999-12-31');
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('2006-12-25');
INSERT INTO t3 VALUES('2008-02-29');
SELECT YEAR(c1) FROM t3;
YEAR(c1)
2000
1999
2000
2006
2008
DROP TABLE t3;
CREATE TABLE t3(c1 TIMESTAMP NOT NULL);
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('1999-12-31');
INSERT INTO t3 VALUES('2000-01-01');
INSERT INTO t3 VALUES('2006-12-25');
INSERT INTO t3 VALUES('2008-02-29');
SELECT YEAR(c1) FROM t3;
YEAR(c1)
2000
1999
2000
2006
2008
DROP TABLE t3;
SELECT date("2022-12-22 02:34:23") = date("2022-12-22 03:34:23");
date("2022-12-22 02:34:23") = date("2022-12-22 03:34:23")
true
drop table if exists t1;
create table t1(a date);
insert into t1 SELECT DATE("2017-06-15 09:34:21");
insert into t1 SELECT DATE("2019-06-25 10:12:21");
insert into t1 SELECT DATE("2019-06-25 18:20:49");
select distinct a from t1;
a
2017-06-15
2019-06-25
drop table t1;
drop table if exists t1;
create table t1(a INT,  b datetime);
insert into t1 values(1, "2017-06-15 09:34:21"),(1, "2019-06-25 10:12:21"),(2, "2019-06-25 18:20:49"),(3, "2019-06-25 18:20:49");
select b from t1 group by b having date(b)>"2018-01-01";
b
2019-06-25 10:12:21
2019-06-25 18:20:49
drop table t1;
drop table if exists t1;
create table t1(a INT,  b date);
insert into t1 values(1, "2012-10-12"),(2, "2004-04-24"),(3, "2008-12-04"),(4, "2012-03-23");
select * from t1 where date(b)!="2012-10-12";
a	b
2	2004-04-24
3	2008-12-04
4	2012-03-23
drop table t1;
create table t1(a INT,  b date);
create table t2(a INT,  b date);
insert into t1 values(1, "2012-10-12"),(2, "2004-04-24"),(3, "2008-12-04"),(4, "2012-03-23");
insert into t2 values(1, "2013-04-30"),(2, "1994-10-04"),(3, "2018-06-04"),(4, "2012-10-12");
SELECT t1.a, t2.a FROM t1 JOIN t2 ON (date(t1.b) = date(t2.b));
a	a
1	4
drop table t1;
drop table t2;
