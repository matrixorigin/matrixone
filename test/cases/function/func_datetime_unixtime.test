#SELECT
#set time_zone="+00:00";

-- @bvt:issue#3259
select from_unixtime(2147483647);
select from_unixtime(2147483648);
select from_unixtime(0);
-- @bvt:issue

select from_unixtime(-1);
select from_unixtime(-2147483648);


#嵌套
select unix_timestamp(from_unixtime(2147483647));
select unix_timestamp(from_unixtime(2147483648));

# EXTREME VALUE
# bad year
select unix_timestamp('2039-01-20 01:00:00');
select unix_timestamp('1968-01-20 01:00:00');
# bad month
select unix_timestamp('2038-02-10 01:00:00');
select unix_timestamp('1969-11-20 01:00:00');
# bad day
select unix_timestamp('2038-01-20 01:00:00');
select unix_timestamp('1969-12-30 01:00:00');
#
# Check negative shift (we subtract several days for boundary dates during
# conversion).
select unix_timestamp('2038-01-17 12:00:00');
#
# Check positive shift. (it happens only on
# platfroms with unsigned time_t, such as QNX)
#
-- @bvt:issue#3259
select unix_timestamp('1970-01-01 03:00:01');
-- @bvt:issue
# check bad date, close to the boundary (we cut them off in the very end)
select unix_timestamp('2038-01-19 07:14:07');

#time zone
#set time_zone="+01:00";
-- @bvt:issue#3259
select unix_timestamp('1970-01-01 01:00:00'),
unix_timestamp('1970-01-01 01:00:01'),
unix_timestamp('2038-01-19 04:14:07'),
unix_timestamp('2038-01-19 04:14:08');
-- @bvt:issue

#SET time_zone='+00:00';
-- @bvt:issue#3588
CREATE TABLE t1 (a DECIMAL(20,7));
INSERT INTO t1 VALUES
(32536771199.999999),
(32536771199.9999990),
(32536771199.9999991),
(32536771199.9999992),
(32536771199.9999993),
(32536771199.9999994),
(32536771199.9999995),
(32536771199.9999996),
(32536771199.9999997),
(32536771199.9999998),
(32536771199.9999999);
SELECT a, FROM_UNIXTIME(a) FROM t1;
DROP TABLE t1;
-- @bvt:issue

#SET time_zone='+00:00';
-- @bvt:issue#3655
SELECT
FROM_UNIXTIME(2147483647) AS c1,
FROM_UNIXTIME(2147483648) AS c2,
FROM_UNIXTIME(2147483647.9999999) AS c3,
FROM_UNIXTIME(32536771199) AS c4,
FROM_UNIXTIME(32536771199.9999999) AS c5;
-- @bvt:issue

#SET TIMESTAMP=0;
#SET time_zone = '+08:00';

-- @bvt:issue#3259
SELECT FROM_UNIXTIME(32536771199);
-- @bvt:issue
SELECT UNIX_TIMESTAMP('3001-01-18 23:59:59');
SELECT FROM_UNIXTIME(32536771200);

-- @bvt:issue#3259
SELECT UNIX_TIMESTAMP('3001-01-19 00:00:00');
-- @bvt:issue
#SET time_zone = "+00:00";
SELECT FROM_UNIXTIME(32536771200);
-- @bvt:issue#3259
SELECT UNIX_TIMESTAMP('3001-01-19 00:00:00');
-- @bvt:issue
#SET time_zone = "+01:00";
# East of UTC
-- @bvt:issue#3259
SELECT FROM_UNIXTIME(32536771199);
SELECT UNIX_TIMESTAMP('3001-01-19 00:59:59');
-- @bvt:issue
SELECT FROM_UNIXTIME(32536771200);
-- @bvt:issue#3259
SELECT UNIX_TIMESTAMP('3001-01-19 01:00:00');
-- @bvt:issue
#SET time_zone = "+09:00";
-- @bvt:issue#3259
SELECT FROM_UNIXTIME(32536771199);
-- @bvt:issue
SELECT UNIX_TIMESTAMP("3001-01-19 08:59:59");
SELECT UNIX_TIMESTAMP("3001-01-19 09:00:00");
#SET time_zone = "-01:00";
# West of UTC
-- @bvt:issue#3259
SELECT FROM_UNIXTIME(32536771199);
-- @bvt:issue
SELECT UNIX_TIMESTAMP('3001-01-18 22:59:59');
# Overflow:
SELECT FROM_UNIXTIME(32536771200);
SELECT UNIX_TIMESTAMP('3001-01-18 23:59:59');
#SET TIME_ZONE = "-07:00";
-- @bvt:issue#3259
SELECT FROM_UNIXTIME(32536771199);
-- @bvt:issue
SELECT UNIX_TIMESTAMP('3001-01-18 15:59:59');
SELECT UNIX_TIMESTAMP('3001-01-18 16:00:00');
#Extreme values
SELECT FROM_UNIXTIME(9223372036854775807);
-- @bvt:issue#3588
SELECT FROM_UNIXTIME(-9223372036854775808);
-- @bvt:issue
SELECT FROM_UNIXTIME(9223372036854775808);

-- @bvt:issue#3588
SELECT FROM_UNIXTIME(99999999999999999999999999999999999999999999999999999999999999999);
-- @bvt:issue
